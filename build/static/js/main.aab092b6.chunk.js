(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t,a){e.exports=a.p+"static/media/imgchatgroup.083f9eb2.png"},115:function(e,t,a){e.exports=a.p+"static/media/society1.2c70f7b5.jpg"},117:function(e,t,a){},165:function(e,t,a){e.exports=a.p+"static/media/society2.c60e3fbf.jpg"},173:function(e,t,a){e.exports=a.p+"static/media/upload1.ace13d57.png"},279:function(e,t,a){e.exports=a.p+"static/media/society3.780ac448.jpg"},287:function(e,t,a){e.exports=a(611)},319:function(e,t){},321:function(e,t){},332:function(e,t){},334:function(e,t){},361:function(e,t){},363:function(e,t){},364:function(e,t){},369:function(e,t){},371:function(e,t){},377:function(e,t){},379:function(e,t){},398:function(e,t){},41:function(e,t,a){e.exports=a.p+"static/media/upload.b84e34a1.png"},410:function(e,t){},413:function(e,t){},416:function(e,t,a){},417:function(e,t,a){},438:function(e,t){},534:function(e,t,a){},535:function(e,t,a){},536:function(e,t){},607:function(e,t,a){},608:function(e,t,a){},609:function(e,t,a){e.exports=a.p+"static/media/meo.c43ae03a.jpg"},610:function(e,t,a){},611:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),l=a(26),c=a.n(l),i=a(7),o=a(8),m=a(10),u=a(9),d=a(19),p=a(25),f=a(1),h=a.n(f),g=a(5),E=a(31),v=a(30),b=a(13),N=a.n(b),y=function(){var e=Object(g.a)(h.a.mark((function e(t,a,n,r,s,l){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("/api/auth/register",{email:t,password:a,firstName:n,lastName:r,birthday:s,sex:l});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s,l){return e.apply(this,arguments)}}(),w=function(){var e=Object(g.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("/api/auth/login",{email:t,password:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("/api/auth/recover",{email:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("/api/auth/reset/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(g.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("/api/auth/reset/"+t,{password:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),S=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).isChange=function(e){n.setState(Object(E.a)({},e.target.name,e.target.value))},n.handleLogin=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,w(n.state.email,n.state.password);case 4:a=e.sent,(r=a.data).token&&(localStorage.setItem("jwt",JSON.stringify(r.token)),localStorage.setItem("user",JSON.stringify(r.user)),window.location.assign("/home"),window.location.reload()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),s=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),n.props.alert.error(s),n.setState({password:""});case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),n.state={email:"",password:"",message:"",loading:!1,isLogin:!0},n}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"form-container sign-in-container"},s.a.createElement("form",{onSubmit:this.handleLogin},s.a.createElement("h1",null,"\u0110\u0103ng Nh\u1eadp"),s.a.createElement("input",{type:"email",name:"email",className:"txt",placeholder:"Nh\u1eadp email: username@gmail.com",required:!0,value:this.state.email,onChange:this.isChange}),s.a.createElement("input",{type:"password",name:"password",className:"txt",placeholder:"Nh\u1eadp password: 123123",required:!0,value:this.state.password,onChange:this.isChange}),s.a.createElement(d.b,{to:"/recover",style:{textDecoration:"none"}},"Qu\xean ",s.a.createElement("strong",null,"m\u1eadt kh\u1ea9u")," c\u1ee7a b\u1ea1n?"),s.a.createElement("button",{id:"submitbtn"},"\u0110\u0103ng Nh\u1eadp")))}}]),a}(r.Component),x=Object(v.d)()(S),O=a(44),j=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).isChange=function(e){n.setState(Object(E.a)({},e.target.name,e.target.value))},n.handleRegister=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,r,s,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.state.year+"-"+n.state.month+"-"+n.state.day,!(n.state.password.length<6)){e.next=5;break}return n.props.alert.error("M\u1eadt kh\u1ea9u ph\u1ea3i ch\u1ee9a \xedt nh\u1ea5t 6 k\xfd t\u1ef1"),e.abrupt("return",n.setState({password:""}));case 5:return e.prev=5,e.next=8,y(n.state.email,n.state.password,n.state.firstName,n.state.lastName,a,n.state.sex);case 8:r=e.sent,s=r.data,n.props.alert.success(s.message),n.setState({email:"",password:""}),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(5),l=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),n.props.alert.error(l),n.setState({email:"",password:""});case 19:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),n.state={email:"",password:"",firstName:"",lastName:"",day:"31",month:"7",year:"1998",male:!0,female:!1,other:"Tu\u1ef3 ch\u1ec9nh",sex:Boolean,message:"",successful:!1},n}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"form-container sign-up-container"},s.a.createElement("form",{onSubmit:this.handleRegister},s.a.createElement("h1",null,"\u0110\u0103ng K\xfd"),s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",name:"lastName",className:"txt input-row",placeholder:"H\u1ecd l\xf3t",required:!0,value:this.state.lastName,onChange:this.isChange})),s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",name:"firstName",className:"txt input-row",placeholder:"T\xean",required:!0,value:this.state.firstName,onChange:this.isChange}))),s.a.createElement("input",{type:"email",name:"email",className:"txt",placeholder:"Email",required:!0,value:this.state.email,onChange:this.isChange}),s.a.createElement("input",{type:"password",name:"password",className:"txt",placeholder:"M\u1eadt kh\u1ea9u m\u1edbi",required:!0,value:this.state.password,onChange:this.isChange}),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"mb-label-day"},"Ng\xe0y sinh"),s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"col"},s.a.createElement("select",{className:"custom-select",name:"day",value:this.state.day,onChange:this.isChange},s.a.createElement("option",{value:1},"1"),Object(O.a)(Array(30)).map((function(e,t){return s.a.createElement("option",{key:t,value:t+2},t+2)})))),s.a.createElement("div",{className:"col"},s.a.createElement("select",{className:"custom-select",id:"custom-select-month",name:"month",value:this.state.month,onChange:this.isChange},s.a.createElement("option",{value:1},"Th\xe1ng 1"),Object(O.a)(Array(11)).map((function(e,t){return s.a.createElement("option",{key:t,value:t+2},"Th\xe1ng ",t+2)})))),s.a.createElement("div",{className:"col"},s.a.createElement("select",{className:"custom-select",name:"year",value:this.state.year,onChange:this.isChange},s.a.createElement("option",null,"1930"),Object(O.a)(Array(90)).map((function(e,t){return s.a.createElement("option",{key:t,value:t+1931},t+1931)})))))),s.a.createElement("fieldset",{className:"form-group"},s.a.createElement("legend",{className:"col-form-label mb-label-sex"},"Gi\u1edbi t\xednh"),s.a.createElement("div",{className:"form-row mar-left"},s.a.createElement("div",{className:"form-check form-check-inline col"},s.a.createElement("input",{className:"form-check-input",type:"radio",id:"gridRadios1",name:"sex",onChange:this.isChange,defaultValue:this.state.male,required:!0}),s.a.createElement("label",{className:"form-check-label",htmlFor:"gridRadios1"},"Nam")),s.a.createElement("div",{className:"form-check form-check-inline col"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"sex",onChange:this.isChange,id:"gridRadios2",defaultValue:this.state.female,required:!0}),s.a.createElement("label",{className:"form-check-label",htmlFor:"gridRadios2"},"N\u1eef")))),s.a.createElement("button",{id:"submitbtn"},"\u0110\u0103ng K\xfd")))}}]),a}(r.Component),_=Object(v.d)()(j),D=(a(117),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).addClass=function(){var e=document.getElementById("signUp"),t=document.getElementById("signIn"),a=document.getElementById("container");e.addEventListener("click",(function(){a.classList.add("right-panel-active")})),t.addEventListener("click",(function(){a.classList.remove("right-panel-active")}))},e}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"MainAuth"},s.a.createElement("div",{className:"container",id:"container"},s.a.createElement(_,null),s.a.createElement(x,null),s.a.createElement("div",{className:"overlay-container"},s.a.createElement("div",{className:"overlay"},s.a.createElement("div",{className:"overlay-panel overlay-left"},s.a.createElement("h1",null,"Welcome Back!"),s.a.createElement("p",null,"\u0110\u1ec3 li\xean k\u1ebft v\u1edbi ch\xfang t\xf4i, vui l\xf2ng \u0111\u0103ng nh\u1eadp b\u1eb1ng th\xf4ng tin c\xe1 nh\xe2n c\u1ee7a b\u1ea1n."),s.a.createElement("button",{className:"ghost",id:"signIn",onClick:this.addClass},"\u0110\u0103ng Nh\u1eadp")),s.a.createElement("div",{className:"overlay-panel overlay-right"},s.a.createElement("h1",null,"Hello, Friend!"),s.a.createElement("p",null,"Nh\u1eadp th\xf4ng tin c\xe1 nh\xe2n c\u1ee7a b\u1ea1n v\xe0 b\u1eaft \u0111\u1ea7u h\xe0nh tr\xecnh v\u1edbi ch\xfang t\xf4i."),s.a.createElement("button",{className:"ghost",id:"signUp",onClick:this.addClass},"\u0110\u0103ng K\xfd"))))))}}]),a}(r.Component)),T=a(75),R=function(){localStorage.removeItem("jwt"),localStorage.removeItem("user"),localStorage.removeItem("users")},M=function(){return!!localStorage.getItem("jwt")},A=["component"],L=function(e){var t=e.component,a=Object(T.a)(e,A);return s.a.createElement(p.b,Object.assign({},a,{render:function(e){return M()?s.a.createElement(t,e):s.a.createElement(p.a,{to:"/"})}}))},F=["component","restricted"],P=function(e){var t=e.component,a=e.restricted,n=Object(T.a)(e,F);return s.a.createElement(p.b,Object.assign({},n,{render:function(e){return M()&&a?s.a.createElement(p.a,{to:"/home"}):s.a.createElement(t,e)}}))},q=function(){var e=JSON.parse(localStorage.getItem("jwt"));return e?{Authorization:"Bearer ".concat(e)}:{}},U=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,n,r,s,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.cloudinary.com/v1_1/tuanpham/image/upload",{method:"POST",body:t});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,r=n.url,e.next=10,N.a.post("/api/post/uploadProfileImg",{url:r},{headers:q()});case 10:return s=e.sent,l=s.data,e.abrupt("return",l.profileImage);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,n,r,s,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.cloudinary.com/v1_1/tuanpham/image/upload",{method:"POST",body:t});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,r=n.url,e.next=10,N.a.post("/api/post/upLoadCoverImages",{url:r},{headers:q()});case 10:return s=e.sent,l=s.data,e.abrupt("return",l.coverImages);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){return function(){var e=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/user",{headers:q()});case 3:a=e.sent,n=a.data,localStorage.setItem("users",JSON.stringify(n.users)),t({type:"GET_ALL_USERS",payload:n.users}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},G=a(20),W=a(41),Y=a.n(W),J=function(){return function(){var e=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/contact",{headers:q()});case 3:a=e.sent,n=a.data,t({type:"GET_CONTACTS",payload:n.contacts}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},V=function(e,t){return function(){var a=Object(g.a)(h.a.mark((function a(n){var r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.a.post("/api/contact/addFriend/"+e,{notificationId:t},{headers:q()});case 3:r=a.sent,console.log(r.data),n({type:"ADD_FRIEND"}),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},z=function(e,t){return function(){var a=Object(g.a)(h.a.mark((function a(n){var r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.a.delete("/api/contact/cancelRequest/"+e+"/"+t,{headers:q()});case 3:r=a.sent,console.log(r.data),n({type:"CANCEL_REQUEST"}),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},Q=JSON.parse(localStorage.getItem("user")),K=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleLogout=function(){R(),n.setState({isLogin:!1})},n.isChangeUpLoad=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t.target.files[0]),a.append("upload_preset","tuanpham"),e.next=5,U(a);case 5:r=e.sent,delete Q.profileImage,Q.profileImage=r,localStorage.setItem("user",JSON.stringify(Q)),n.props.getProfileImage(r),n.setState({profileImage:r});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={profileImage:""},n}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){var a=e.contacts.map((function(e){if(e.contactId===Q._id&&e.status||e.userId===Q._id&&e.status)return e}));this.setState({profileImage:e.profileImage,friendQuantity:a.length})}},{key:"componentDidMount",value:function(){this.props.getCurrentUser()}},{key:"render",value:function(){var e=this.state.profileImage;return s.a.createElement("div",{className:"leftfixed"},s.a.createElement("div",{className:"sidebarleft gradient-box"},s.a.createElement("div",{className:"profile"},s.a.createElement("img",{src:e||(Q.profileImage?Q.profileImage:Y.a),alt:" profile"})),s.a.createElement("input",{type:"file",name:"file",className:"profileImg",onChange:this.isChangeUpLoad}),s.a.createElement("p",{id:"sidename"},Q.lastName," ",Q.firstName),s.a.createElement(d.b,{to:"/home/profile/"+Q._id,id:"viewall"},"View All"),s.a.createElement("hr",null),s.a.createElement("p",{id:"nosociety"},this.state.friendQuantity),s.a.createElement("p",{id:"societyname"},s.a.createElement("a",{href:"#Friends"},"Friends")),s.a.createElement("p",{id:"logout"},s.a.createElement(d.b,{to:"/",className:"button gradient-button",onClick:this.handleLogout},"Log Out"))))}}]),a}(r.Component),X=Object(G.b)((function(e){return{profileImage:e.currentUserReducer.profileImage,contacts:e.contactReducer.contacts}}),(function(e){return{getCurrentUser:function(){return e(function(){var e=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/user/showCurrentUser",{headers:q()});case 3:a=e.sent,n=a.data,console.log(n.currentUser),localStorage.setItem("user",JSON.stringify(n.currentUser)),t({type:"GET_CURRENT_USER",payload:n.currentUser}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())},getContacts:function(){return e(J())}}}))(K),Z=a(11),$=a(50),ee=a(28),te=a(70),ae=a.n(te),ne=JSON.parse(localStorage.getItem("user")),re=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).isChangeUpLoad=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,r,s,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t.target.files[0]),a.append("upload_preset","tuanpham"),e.next=5,fetch("https://api.cloudinary.com/v1_1/tuanpham/image/upload",{method:"POST",body:a});case 5:return r=e.sent,e.next=8,r.json();case 8:s=e.sent,l=s.url,console.log(l),n.setState({file:l});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.isChange=function(e){n.setState(Object(E.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t=n.state.userPosts,a={like:0,dislike:0,liked:[],disliked:[],comments:[],postId:new ee.a,userId:ne._id,quotes:n.state.quotes,postImg:n.state.file};n.props.addPost(a.postId,n.state.file,n.state.quotes),t.unshift(Object(Z.a)(Object(Z.a)({},a),{},{firstName:ne.firstName,lastName:ne.lastName})),n.setState({userPosts:t,quotes:"",file:""})},n.increase=function(e,t,a,r,s){console.log(t,a,r,s);var l=t,c=a,i=r,o=s,m=document.getElementById(l);n.props.like(e,parseInt(m.innerHTML)+1,"pull"),m.innerHTML=parseInt(m.innerHTML)+1;var u=document.getElementById(i);u.style.color="#dc3545",u.style.pointerEvents="none";var d=document.getElementById(o);if("rgb(220, 53, 69)"==d.style.color){var p=document.getElementById(c);console.log(parseInt(p.innerHTML)),n.props.dislike(e,parseInt(p.innerHTML)-1,"notpull"),p.innerHTML=parseInt(p.innerHTML)-1}d.style.color="#000",d.style.pointerEvents="all"},n.decrease=function(e,t,a,r,s){var l=t,c=a,i=r,o=s,m=document.getElementById(c);n.props.dislike(e,parseInt(m.innerHTML)+1,"pull"),m.innerHTML=parseInt(m.innerHTML)+1;var u=document.getElementById(o);u.style.color="#dc3545",u.style.pointerEvents="none";var d=document.getElementById(i);if("rgb(220, 53, 69)"==d.style.color){var p=document.getElementById(l);console.log(parseInt(p.innerHTML)),n.props.like(e,parseInt(p.innerHTML)-1,"notpull"),p.innerHTML=parseInt(p.innerHTML)-1}d.style.color="black",d.style.pointerEvents="all"},n.handleSubmitComment=function(e,t){e.preventDefault(),console.log(t);var a=n.state.userPosts,r=a.find((function(e){return e.postId===t})),s={commentId:new ee.a,content:n.state.comment,userId:ne._id};r.comments.push(s),console.log(r.comments),n.props.postComment(t,s.commentId,n.state.comment),n.setState({userPosts:a}),n.resetForm()},n.onClickRemovePost=function(e){n.props.removePost(e);var t=n.state.userPosts.filter((function(t){return t.postId!==e}));console.log(t),n.setState({userPosts:t})},n.editSubmit=function(e){n.props.editPost(e,n.state.file,n.state.editedQuotes),n.state.userPosts.map((function(t){return t.postId===e?(t.quotes=n.state.editedQuotes,n.state.file&&(t.postImg=n.state.file),t):null})),n.setState({userPosts:n.state.userPosts,quotes:"",file:""})},n.funcEditSetTimeout=function(e,t){e.preventDefault();var a=Object($.a)(n);setTimeout((function(){a.editSubmit(t)}),1e3)},n.getEditPostInfo=function(e,t){n.setState({editedQuotes:e,editPostImg:t})},n.onClickRemoveComment=function(e,t){n.props.removeComment(e,t);var a=n.state.userPosts,r=a.find((function(t){return t.postId===e}));r.comments=r.comments.filter((function(e){return e.commentId!==t})),n.setState({userPosts:a})},n.getEditCommentInfo=function(e,t,a){console.log(a),n.setState({commentId:e,editContent:t,isCommentClose:!n.state.isCommentClose,location:a})},n.handleEditComment=function(e,t,a){e.preventDefault(),n.props.editComment(a,n.state.editContent);var r=n.state.userPosts;r.find((function(e){return e.postId===t})).comments.map((function(e){if(e.commentId===a)return e.content=n.state.editContent,e})),n.setState({userPosts:r,isCommentEdit:!n.state.isCommentEdit})},n.resetForm=function(){for(var e=document.getElementsByClassName("form-comment"),t=0;t<e.length;t++)e[t].reset()},n.state={file:"",quotes:"",userPosts:[],profileImage:null,comment:"",editedQuotes:"",editPostImg:"",commentId:"",editContent:"",isCommentEdit:!0,isCommentClose:!1,cm:"",location:-1},n}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){this.setState({userPosts:e.userPosts,profileImage:e.profileImage})}},{key:"componentDidMount",value:function(){this.props.getCurrentUserPosts()}},{key:"enableModal",value:function(){var e=document.getElementsByClassName("modal");e[0].className=e[0].className.replace(" deanimate"," animate"),document.getElementsByClassName("modal")[0].style.display="block"}},{key:"disableModal",value:function(e){var t=document.getElementsByClassName("modal");t[e].className=t[e].className.replace(" animate"," deanimate"),setTimeout((function(){document.getElementsByClassName("modal")[e].style.display="none"}),500)}},{key:"render",value:function(){var e=this,t=this.props.profileImage,a=JSON.parse(localStorage.getItem("users"));return a&&a.push(ne),console.log(ne.profileImage),s.a.createElement("div",{className:"mainnotfixed",id:"mainnotfixed"},s.a.createElement("div",{className:"main mainpost",style:{marginBottom:20,paddingBottom:10}},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"userimg"},t?s.a.createElement("img",{src:t,alt:"profile"}):ne.profileImage?s.a.createElement("img",{src:ne.profileImage,alt:"profile"}):s.a.createElement("img",{src:Y.a,alt:"profile"})),s.a.createElement("p",{className:"quotes"},s.a.createElement("textarea",{id:"mypara",className:"txtarea",placeholder:ne.firstName+" \u01a1i, b\u1ea1n \u0111ang ngh\u1ec9 g\xec?",onChange:this.isChange,value:this.state.quotes,name:"quotes",required:!0})),this.state.file?s.a.createElement("div",{className:"post"},s.a.createElement("img",{className:"postimg",src:this.state.file,alt:" "})):"",s.a.createElement("div",{className:"postbar"},s.a.createElement("input",{type:"file",id:"chooseimg",name:"file",onChange:this.isChangeUpLoad,onClick:function(e){return e.target.value=null}}),s.a.createElement("button",{type:"button",className:"imgbttn",id:"imgbttn"},"\ud83d\udcf7 Images"),s.a.createElement("button",{type:"submit",id:"postmypost",className:"postmypost button gradient-button text-center"},"Post")))),s.a.createElement("div",{className:"allpost"},this.state.userPosts.map((function(n,r){return s.a.createElement("div",{className:"mainpost",key:r},ne._id===n.userId?s.a.createElement("div",null,s.a.createElement("a",{href:"#remove",onClick:function(){return e.onClickRemovePost(n.postId)}},s.a.createElement("i",{className:"fas fa-trash-alt"})),s.a.createElement("a",{href:"#edit",onClick:function(){e.enableModal(),e.getEditPostInfo(n.quotes,n.postImg)}},s.a.createElement("i",{className:"fas fa-edit"}))):"",s.a.createElement("div",{className:"modal animate main mainpost",style:{marginBottom:20,paddingBottom:10}},s.a.createElement("span",{className:"close",title:"Close Modal",onClick:function(){return e.disableModal(0)}},"\xd7"),s.a.createElement("form",null,s.a.createElement("div",{className:"userimg"},t?s.a.createElement("img",{src:t,alt:"profile"}):ne.profileImage?s.a.createElement("img",{src:ne.profileImage,alt:"profile"}):s.a.createElement("img",{src:Y.a,alt:"profile"})),s.a.createElement("p",{className:"quotes"},s.a.createElement("textarea",{id:"mypara",className:"txtarea",name:"editedQuotes",placeholder:ne.firstName+"\u01a1i, b\u1ea1n \u0111ang ngh\u1ec9 g\xec?",onChange:e.isChange,defaultValue:e.state.editedQuotes,required:!0})),s.a.createElement("div",{className:"post"},s.a.createElement("img",{id:"load2",className:"postimg",src:" "})),s.a.createElement("div",{className:"postbar"},s.a.createElement("input",{type:"file",id:"chooseimg",name:"file",onChange:e.isChangeUpLoad,onClick:function(e){return e.target.value=null}}),s.a.createElement("button",{type:"button",className:"imgbttn",id:"imgbttn"},"\ud83d\udcf7 Images"),s.a.createElement("button",{type:"submit",id:"postmypost",className:"postmypost button gradient-button text-center",onClick:function(t){e.funcEditSetTimeout(t,n.postId),e.disableModal(0)}},"Post")))),s.a.createElement("div",{className:"userimg"},n.userId===ne._id&&t?s.a.createElement("img",{src:t,alt:"anh dai dien"}):n.userId===ne._id&&ne.profileImage?s.a.createElement("img",{src:ne.profileImage,alt:"anh dai dien"}):n.profileImage?s.a.createElement("img",{src:n.profileImage,alt:"anh dai dien"}):s.a.createElement("img",{src:Y.a,alt:"anh dai dien"})),s.a.createElement("div",{className:"username"}," ",s.a.createElement("p",{className:"name"},n.lastName," ",n.firstName)),s.a.createElement("p",{className:"time"},ae()(n.createdAt).fromNow()),s.a.createElement("p",{className:"quotes"},n.quotes),s.a.createElement("div",{className:"post"},s.a.createElement("img",{className:"postimg",src:n.postImg})),s.a.createElement("div",{className:"likedislike"},s.a.createElement("p",{className:"like"},s.a.createElement("span",{className:"nooflike",id:"like"+parseInt(r+1)},n.like," ")," ","likes \xa0"," ",s.a.createElement("span",{className:"noofdislike",id:"dislike"+parseInt(r+1)},n.dislike," ")," ","dislikes"),s.a.createElement("p",{className:"likedisbttn"},"undefined"!==typeof n.liked&&"undefined"!==typeof n.disliked&&n.liked.find((function(e){return e===ne._id}))&&!n.disliked.find((function(e){return e===ne._id}))?s.a.createElement("div",null,s.a.createElement("span",{id:"thumbsup"+parseInt(r+1),className:"fa fa-thumbs-up",style:{color:"rgb(220, 53, 69)",pointerEvents:"none"},onClick:function(){return e.increase(n.postId,"like"+parseInt(r+1),"dislike"+ +parseInt(r+1),"thumbsup"+ +parseInt(r+1),"thumbsdown"+ +parseInt(r+1))}}),s.a.createElement("span",{id:"thumbsdown"+parseInt(r+1),className:"fa fa-thumbs-down",onClick:function(){return e.decrease(n.postId,"like"+parseInt(r+1),"dislike"+ +parseInt(r+1),"thumbsup"+ +parseInt(r+1),"thumbsdown"+ +parseInt(r+1))}})):"undefined"!==typeof n.liked&&"undefined"!==typeof n.disliked&&!n.liked.find((function(e){return e===ne._id}))&&n.disliked.find((function(e){return e===ne._id}))?s.a.createElement("div",null,s.a.createElement("span",{id:"thumbsup"+parseInt(r+1),className:"fa fa-thumbs-up",onClick:function(){return e.increase(n.postId,"like"+parseInt(r+1),"dislike"+ +parseInt(r+1),"thumbsup"+ +parseInt(r+1),"thumbsdown"+ +parseInt(r+1))}}),s.a.createElement("span",{id:"thumbsdown"+parseInt(r+1),className:"fa fa-thumbs-down",style:{color:"rgb(220, 53, 69)",pointerEvents:"none"},onClick:function(){return e.decrease(n.postId,"like"+parseInt(r+1),"dislike"+ +parseInt(r+1),"thumbsup"+ +parseInt(r+1),"thumbsdown"+ +parseInt(r+1))}})):s.a.createElement("div",null,s.a.createElement("span",{id:"thumbsup"+parseInt(r+1),className:"fa fa-thumbs-up",onClick:function(){return e.increase(n.postId,"like"+parseInt(r+1),"dislike"+ +parseInt(r+1),"thumbsup"+ +parseInt(r+1),"thumbsdown"+ +parseInt(r+1))}}),s.a.createElement("span",{id:"thumbsdown"+parseInt(r+1),className:"fa fa-thumbs-down",onClick:function(){return e.decrease(n.postId,"like"+parseInt(r+1),"dislike"+ +parseInt(r+1),"thumbsup"+ +parseInt(r+1),"thumbsdown"+ +parseInt(r+1))}})))),s.a.createElement("div",{className:"commentContainer"},s.a.createElement("div",{className:0!==n.comments.length?"comment-content":""},n.comments.map((function(t,r){var l;if(a&&(l=a.find((function(e){return e._id===t.userId}))),l)return s.a.createElement("div",{className:"cm",key:r,style:e.state.isCommentEdit?{marginBottom:"15px"}:{marginBottom:"0"}},s.a.createElement("p",null,s.a.createElement(d.b,{to:"/home/profile/"+t.userId},l.lastName," ",l.firstName,":")," ",s.a.createElement("span",null,e.state.editContent&&e.state.commentId===t.commentId?e.state.editContent:t.content,ne._id===t.userId?s.a.createElement("div",null,s.a.createElement("a",{href:"#remove",className:"remove-comment",onClick:function(){return e.onClickRemoveComment(n.postId,t.commentId)}},s.a.createElement("i",{className:"fas fa-trash-alt"}))):"",e.state.isCommentClose&&e.state.commentId===t.commentId?s.a.createElement("a",{href:"#close",className:"close-comment",onClick:function(){return e.setState({isCommentClose:!e.state.isCommentClose})}},s.a.createElement("i",{className:"fas fa-times"})):ne._id===t.userId?s.a.createElement("a",{href:"#edit",className:"edit-comment",onClick:function(){e.getEditCommentInfo(t.commentId,t.content,r)}},s.a.createElement("i",{className:"fas fa-edit"})):"")),e.state.isCommentClose&&e.state.commentId===t.commentId?s.a.createElement("div",{className:"edit-comment-form"},s.a.createElement("form",{onSubmit:function(a){return e.handleEditComment(a,n.postId,t.commentId)}},s.a.createElement("input",{type:"text",value:e.state.editContent,name:"editContent",placeholder:"Edit comment...",required:!0,onChange:e.isChange}),s.a.createElement("button",{type:"submit",className:"button-submit-comment"},"Edit"))):"")}))),s.a.createElement("form",{onSubmit:function(t){return e.handleSubmitComment(t,n.postId)},className:"form-comment"},s.a.createElement("input",{type:"text",name:"comment",placeholder:"Comment...",required:!0,onChange:e.isChange}),s.a.createElement("button",{type:"submit",className:"button-submit-comment"},"Comment"))))}))),s.a.createElement("button",{type:"button",id:"viewmore",className:"viewmore"},"View More"))}}]),a}(r.Component),se=Object(G.b)((function(e){return{userPosts:e.postReducer}}),(function(e){return{getCurrentUserPosts:function(){return e(function(){var e=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/post/showPosts",{headers:q()});case 3:a=e.sent,n=a.data,t({type:"GET_CURRENT_USER_POSTS",payload:n.userPosts}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},like:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(g.a)(h.a.mark((function n(r){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N.a.put("/api/post/like/"+e+"/"+a,{like:t},{headers:q()});case 3:r({type:"GET_CURRENT_USER_POSTS"}),n.next=8;break;case 6:n.prev=6,n.t0=n.catch(0);case 8:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},dislike:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(g.a)(h.a.mark((function n(r){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N.a.put("/api/post/dislike/"+e+"/"+a,{dislike:t},{headers:q()});case 3:r({type:"GET_CURRENT_USER_POSTS"}),n.next=8;break;case 6:n.prev=6,n.t0=n.catch(0);case 8:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},addPost:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(g.a)(h.a.mark((function n(r){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N.a.post("/api/post/addPost",{postId:e,url:t,quotes:a},{headers:q()});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},postComment:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(g.a)(h.a.mark((function n(r){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log(e),n.next=4,N.a.post("/api/comment/comment/"+e,{commentId:t,content:a},{headers:q()});case 4:r({type:"GET_CURRENT_USER_POSTS"}),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},removePost:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.delete("/api/post/removePost/"+e,{headers:q()});case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()}(t))},editPost:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(g.a)(h.a.mark((function n(r){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N.a.put("/api/post/editPost/"+e,{url:t,quotes:a},{headers:q()});case 3:n.next=7;break;case 5:n.prev=5,n.t0=n.catch(0);case 7:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},removeComment:function(t,a){return e(function(e,t){return function(){var a=Object(g.a)(h.a.mark((function a(n){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.a.delete("/api/comment/removeComment/"+t+"/"+e,{headers:q()});case 3:a.next=7;break;case 5:a.prev=5,a.t0=a.catch(0);case 7:case"end":return a.stop()}}),a,null,[[0,5]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))},editComment:function(t,a){return e(function(e,t){return function(){var a=Object(g.a)(h.a.mark((function a(n){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.a.put("/api/comment/editComment/"+e,{content:t},{headers:q()});case 3:a.next=7;break;case 5:a.prev=5,a.t0=a.catch(0);case 7:case"end":return a.stop()}}),a,null,[[0,5]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))}}}))(re),le=(a(416),a(417),a(277)),ce=a.n(le),ie=JSON.parse(localStorage.getItem("user")),oe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).toSlug=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/(\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5)/g,"a")).replace(/(\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5)/g,"e")).replace(/(\xec|\xed|\u1ecb|\u1ec9|\u0129)/g,"i")).replace(/(\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1)/g,"o")).replace(/(\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef)/g,"u")).replace(/(\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9)/g,"y")).replace(/(\u0111)/g,"d")).replace(/([^0-9a-z-\s])/g,"")},n.getUsers=function(){var e=[],t=JSON.parse(localStorage.getItem("users"));return t&&ie&&(e.push({name:ie.lastName+" "+ie.firstName,email:ie.email}),t.forEach((function(t){if(e.push({name:t.lastName+" "+t.firstName,email:t.email}),5===e.length)return e}))),e},n.matchUsers=function(e,t){return-1!==n.toSlug(e.name.toLowerCase()).indexOf(n.toSlug(t.toLowerCase().trim()))||-1!==e.email.toLowerCase().indexOf(t.toLowerCase().trim())},n.handleSubmit=function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("users"));t.push(ie),t.forEach((function(e){var t=e.lastName+" "+e.firstName;if(n.toSlug(t.toLowerCase())===n.toSlug(n.state.value.toLowerCase().trim())||e.email.toLowerCase()===n.state.value.toLowerCase().trim())return n.setState({redirect:!0,redirectId:e._id})}))},n.removeItem=function(){for(var e=document.getElementById("search-form").querySelectorAll(".item"),t=0;t<5;t++)e[t].remove()},n.state={value:"",redirect:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.redirect,n=t.redirectId;return a?window.location.assign("/home/profile/"+n):s.a.createElement("div",null,s.a.createElement("form",{className:"searchform",id:"search-form",onSubmit:this.handleSubmit},s.a.createElement(ce.a,{value:this.state.value,inputProps:{id:"states-autocomplete",required:!0,type:"search"},wrapperStyle:{position:"relative",display:"inline-block"},items:this.getUsers(),getItemValue:function(e){return e.name},shouldItemRender:function(t,a){return e.matchUsers(t,a)},onChange:function(t,a){return e.setState({value:a})},onSelect:function(t){return e.setState({value:t})},renderMenu:function(e){return s.a.createElement("div",{className:"menu"},e)},renderItem:function(e,t){return s.a.createElement("div",{className:"item ".concat(t?"item-highlighted":""),key:e.abbr},e.name)}}),s.a.createElement("button",{type:"submit"},"Search")))}}]),a}(r.Component),me=a(278),ue=a.n(me)()("http://localhost:4000"),de=function(){var e=JSON.parse(localStorage.getItem("jwt"));ue.on("connect",(function(){ue.on("authenticated",(function(){})).emit("authenticate",{token:e}).on("unauthorized",(function(e){console.log("unauthorized: ".concat(JSON.stringify(e.data)))}))}))},pe=function(){return function(){var e=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/message/getContactsByStatusIsTrue/",{headers:q()});case 3:a=e.sent,n=a.data,t({type:"CONTACTS_BY_STATUS_IS_TRUE",payload:n.contacts}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},fe=function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log(e),a({type:"GET_CHAT_GROUP_ID",conversationId:e})}catch(n){}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},he=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.cloudinary.com/v1_1/tuanpham/image/upload",{method:"POST",body:t});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,r=n.url,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(e,t){return function(){var a=Object(g.a)(h.a.mark((function a(n){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{n({type:"UPDATED_AT_WHEN_SUBMIT",payload:{conversationId:e,friends:t}})}catch(r){}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Ee=JSON.parse(localStorage.getItem("user")),ve=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).requestConfirmFriend=function(){ue.on("request-confirm-friend",(function(e){var t,a,r=document.getElementById("friends").innerHTML,s=document.getElementById("bell").innerHTML;t=r?+r[1]-1:0,a=s?+s[1]+1:1,n.state.notifications.unshift(e),n.setState({countFriends:t,notifications:n.state.notifications,countNotifications:a})}))},n.requestAddFriend=function(){ue.on("request-add-friend",(function(e){var t,a,r=document.getElementById("friends").innerHTML,s=document.getElementById("bell").innerHTML;t=r?+r[1]+1:1,a=s?+s[1]+1:1,n.state.notifications.unshift(e),n.setState({countFriends:t,notifications:n.state.notifications,countNotifications:a})}))},n.emitCancelRequest=function(){ue.on("emit-cancel-request",(function(e){var t,a,r=document.getElementById("friends").innerHTML,s=document.getElementById("bell").innerHTML;t=r?+r[1]-1:1,a=s?+s[1]-1:1,n.state.notifications.unshift(e),n.setState({countFriends:t,notifications:n.state.notifications,countNotifications:a})}))},n.state={countFriends:0,countNotifications:0,notifications:[],contacts:[],friend:""},n}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){e.friend&&this.setState({friend:e.friend}),console.log(e.countFriends),this.setState({contacts:e.contacts,countFriends:e.countFriends})}},{key:"componentDidMount",value:function(){var e=this;this.props.getContactsByStatusIsTrue(),this.props.getCountFriends(),this.requestConfirmFriend(),this.requestAddFriend(),this.emitCancelRequest(),this.props.getContacts(),Object(g.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.get("/api/notification/getByIdAndLimit",{headers:q()});case 2:a=t.sent,n=a.data,e.setState({notifications:n.notifications,countNotifications:n.notifications.length});case 5:case"end":return t.stop()}}),t)})))()}},{key:"render",value:function(){return s.a.createElement("div",{className:"headerfixed topbar"},s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"wrapper"},s.a.createElement(oe,null),s.a.createElement("div",{className:"icon-bar"},s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(d.c,{exact:!0,to:"/home",activeClassName:"active"},s.a.createElement("i",{className:"fa fa-home"}),s.a.createElement("p",{className:"active-bottom home"},"Home"))),s.a.createElement("li",null," ",s.a.createElement(d.c,{exact:!0,to:"/home/profile/"+Ee._id,activeClassName:"active"},s.a.createElement("i",{className:"fa fa-user",onClick:this.handleClick}),s.a.createElement("p",{className:"active-user user"},"Profile"))," "),s.a.createElement("li",null,s.a.createElement(d.c,{exact:!0,to:"/home/society",activeClassName:"active"},s.a.createElement("i",{className:"fa fa-users"},s.a.createElement("p",{id:"friends"},0!==this.state.countFriends?"(".concat(this.state.countFriends,")"):"")),s.a.createElement("p",{className:"active-bottom users"},"Society"))),s.a.createElement("li",null," ",s.a.createElement(d.c,{exact:!0,to:"/home/message/"+this.state.friend._id,activeClassName:"active"},s.a.createElement("i",{className:"fa fa-facebook-messenger","aria-hidden":"true"}),s.a.createElement("p",{className:"active-bottom messages"},"Mess"))),s.a.createElement("li",null,s.a.createElement("a",{href:"#notifications"},s.a.createElement("i",{className:"fa fa-bell",onClick:function(){var e=document.getElementById("notify");"block"===e.style.display?e.style.display="none":e.style.display="block"}},s.a.createElement("p",{id:"bell"},0!==this.state.countNotifications?"(".concat(this.state.countNotifications,")"):"")),s.a.createElement("p",{className:"active-bottom bell"},"Notifi")),s.a.createElement("div",{id:"notify"},s.a.createElement("div",{className:"header-notifications"},s.a.createElement("p",{id:"Notifications"},"Notifications")),this.state.notifications.map((function(e,t){return s.a.createElement("div",{key:t,className:"notification-item"},s.a.createElement("a",{href:"/home/profile/"+e.user[0]._id,id:"notify-user"},s.a.createElement("div",{className:"small text-gray-500"},"December 12, 2019"),s.a.createElement("img",{src:e.user[0].profileImage,alt:"Anh thong bao"}),"ADD_FRIEND"===e.type?s.a.createElement("p",{className:"bell-add-friend"},s.a.createElement("span",{style:{color:"#28a745"}},e.user[0].lastName," ",e.user[0].firstName)," sent you a friend request."):"CONFIRM_FRIEND"===e.type?s.a.createElement("p",{className:"bell-confirm-friend"},s.a.createElement("span",{style:{color:"#28a745"}},e.user[0].lastName," ",e.user[0].firstName)," accepted your friend request."):s.a.createElement("p",{className:"bell-cancel-request"},s.a.createElement("span",{style:{color:"#dc3545"}},e.user[0].lastName," ",e.user[0].firstName)," has canceled your friend request.")),s.a.createElement("hr",{style:(e.user[0].lastName+e.user[0].firstName).length>14?{backgroundColor:"white",width:"100%",marginTop:"39px",marginBottom:"10px"}:{backgroundColor:"white",width:"100%",marginTop:"21px",marginBottom:"10px"}}))})),s.a.createElement("a",{className:"dropdown-item text-center small text-gray-500",href:"#"},"Show All Alerts"))))))))}}]),a}(r.Component),be=Object(G.b)((function(e){return{contacts:e.contactReducer.contacts,countFriends:e.contactReducer.countFriends,friend:e.messageReducer.friends[0]}}),(function(e){return{getContacts:function(){return e(J())},getCountFriends:function(){return e(function(){var e=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/contact/getCountFriends",{headers:q()});case 3:a=e.sent,n=a.data,t({type:"COUNT_FRIENDS",payload:n.countFriends}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},getContactsByStatusIsTrue:function(){return e(pe())}}}))(ve),Ne=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).requestAddFriend=function(){ue.on("request-add-friend",(function(e){n.state.notSentFriend=n.state.notSentFriend.filter((function(t){return t._id!==e.user[0]._id})),n.setState({notSentFriend:n.state.notSentFriend})}))},n.emitCancelRequest=function(){ue.on("emit-cancel-request",(function(e){n.state.notSentFriend.unshift({_id:e.user[0]._id,firstName:e.user[0].firstName,lastName:e.user[0].lastName,profileImage:e.user[0].profileImage}),n.setState({notSentFriend:n.state.notSentFriend})}))},n.handleClick=function(e,t,a){n.props.follow(e,t,a);var r=n.state.users.filter((function(e){return e._id!==t}));n.setState({users:r})},n.addFriend=function(e){var t=new ee.a;ue.emit("add-friend",{contactId:e,notificationId:t,type:"ADD_FRIEND"}),n.props.addFriend(e,t);var a=document.getElementById("add-friend-society-"+e),r=document.getElementById("cancel-request-society-"+e),s=document.getElementById("add-friend-"+e),l=document.getElementById("cancel-request-"+e);a&&(a.style.display="none"),r&&(r.style.display="block"),s&&(s.style.display="none"),l&&(l.style.display="block")},n.cancelRequest=function(e){var t=new ee.a;ue.emit("cancel-request",{contactId:e,notificationId:t,type:"CANCEL_REQUEST"}),n.props.cancelRequest(e,t);var a=document.getElementById("add-friend-society-"+e),r=document.getElementById("cancel-request-society-"+e),s=document.getElementById("add-friend-"+e),l=document.getElementById("cancel-request-"+e);a&&(a.style.display="block"),r&&(r.style.display="none"),s&&(s.style.display="block"),l&&(l.style.display="none")},n.state={users:[],sentFriend:[],notSentFriend:[],contacts:[]},n}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){for(var a=ye(e.users,e.contacts),n=[],r=0;r<a.length&&(n.push(a[r]),5!==n.length);r++);this.setState({contacts:e.contacts,sentFriend:e.contacts,notSentFriend:n})}},{key:"componentDidMount",value:function(){this.emitCancelRequest(),this.requestAddFriend(),de(),this.props.getAllUsers(),this.props.getContacts()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"rightfixed"},s.a.createElement("div",{className:"sidebarright"},this.state.notSentFriend.map((function(t,a){return s.a.createElement("div",{className:"rightcontent",key:a},s.a.createElement("a",{href:"/home/profile/"+t._id},s.a.createElement("img",{alt:" ",src:t.profileImage?t.profileImage:Y.a}),s.a.createElement("p",{className:"name"},t.lastName," ",t.firstName)),s.a.createElement("button",{id:"cancel-request-"+t._id,className:"btn btn-danger cancel-request",onClick:function(){return e.cancelRequest(t._id)},style:{display:"none"}},s.a.createElement("i",{className:"fas fa-user-times"}),"Cancel Request"),s.a.createElement("button",{id:"add-friend-"+t._id,className:"btn btn-danger",onClick:function(){return e.addFriend(t._id)}},s.a.createElement("i",{className:"fas fa-user-plus"}),"Add Friend"))})))),s.a.createElement("div",{className:"rightfixed",id:"footer"},s.a.createElement("div",{className:"sidebarright"},s.a.createElement("div",{className:"foot"},s.a.createElement("div",{className:"social text-center"},s.a.createElement("a",{href:"https://www.facebook.com/phamminhtuan.317",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("i",{className:"fab fa-facebook"})),s.a.createElement("a",{href:"https://www.facebook.com/groups/nhompi2020/",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("i",{className:"fas fa-users"})),s.a.createElement("a",{href:"#1",target:"_blank"},s.a.createElement("i",{className:"fab fa-font-awesome-flag"})),s.a.createElement("a",{href:"#1"},s.a.createElement("i",{className:"fab fa-youtube"}))),s.a.createElement("p",null,"Copyright \xa9 Tuan Pham 2020 All Rights Reserved.")))))}}]),a}(r.Component),ye=function(e,t){for(var a=0,n=[],r=0;r<e.length;r++){a=0;for(var s=0;s<t.length&&(e[r]._id!==t[s].contactId&&e[r]._id!==t[s].userId);s++)a++;a===t.length&&n.push(e[r])}return n},we=Object(G.b)((function(e){return{users:e.userReducer,contacts:e.contactReducer.contacts}}),(function(e){return{follow:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(g.a)(h.a.mark((function n(r){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N.a.put("/api/user/follow/"+e+"/"+t,{followQuantity:a},{headers:q()});case 3:r({type:"ADD_FRIEND"}),n.next=8;break;case 6:n.prev=6,n.t0=n.catch(0);case 8:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},addFriend:function(t,a){return e(V(t,a))},cancelRequest:function(t,a){return e(z(t,a))},getAllUsers:function(){return e(H())},getContacts:function(){return e(J())}}}))(Ne),Ce=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getProfileImage=function(e){console.log(e),n.setState({profileImage:e})},n.state={},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){de()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(be,null),s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"wrapper"},s.a.createElement(X,{getProfileImage:function(t){return e.getProfileImage(t)}}),s.a.createElement(se,{profileImage:this.state.profileImage}),s.a.createElement(we,null))))}}]),a}(r.Component),Ie=Object(G.b)(null,(function(e){return{}}))(Ce),ke=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("ul",{className:"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion",id:"accordionSidebar"},s.a.createElement("a",{className:"sidebar-brand d-flex align-items-center justify-content-center",href:"/home-admin"},s.a.createElement("div",{className:"sidebar-brand-icon rotate-n-15"},s.a.createElement("i",{className:"fas fa-laugh-wink"})),s.a.createElement("div",{className:"sidebar-brand-text mx-3"},"Admin ",s.a.createElement("sup",null,"2"))),s.a.createElement("hr",{className:"sidebar-divider my-0"}),s.a.createElement("li",{className:"nav-item active"},s.a.createElement(d.b,{className:"nav-link",to:"/home-admin"},s.a.createElement("i",{className:"fas fa-fw fa-tachometer-alt"}),s.a.createElement("span",null,"Dashboard"))),s.a.createElement("hr",{className:"sidebar-divider"}),s.a.createElement("div",{className:"sidebar-heading"},"Collections"),s.a.createElement("li",{className:"nav-item"},s.a.createElement(d.b,{className:"nav-link",to:"/table-users"},s.a.createElement("i",{className:"fas fa-fw fa-table"}),s.a.createElement("span",null,"Users"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(d.b,{className:"nav-link",to:"/table-posts"},s.a.createElement("i",{className:"fas fa-fw fa-table"}),s.a.createElement("span",null,"Posts"))),s.a.createElement("hr",{className:"sidebar-divider d-none d-md-block"}),s.a.createElement("div",{className:"text-center d-none d-md-inline"},s.a.createElement("button",{className:"rounded-circle border-0",id:"sidebarToggle"})))}}]),a}(r.Component),Se=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"modal fade",id:"logoutModal",tabIndex:-1,role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Ready to Leave?"),s.a.createElement("button",{className:"close",type:"button","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},'Select "Logout" below if you are ready to end your current session.'),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-secondary",type:"button","data-dismiss":"modal"},"Cancel"),s.a.createElement("a",{className:"btn btn-primary",href:"login.html"},"Logout")))))}}]),a}(r.Component),xe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("nav",{className:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},s.a.createElement("button",{id:"sidebarToggleTop",className:"btn btn-link d-md-none rounded-circle mr-3"},s.a.createElement("i",{className:"fa fa-bars"})),s.a.createElement("form",{className:"d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search"},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",className:"form-control bg-light border-0 small",placeholder:"Search for...","aria-label":"Search","aria-describedby":"basic-addon2"}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{className:"btn btn-primary",type:"button"},s.a.createElement("i",{className:"fas fa-search fa-sm"}))))),s.a.createElement("ul",{className:"navbar-nav ml-auto"},s.a.createElement("li",{className:"nav-item dropdown no-arrow d-sm-none"},s.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"searchDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement("i",{className:"fas fa-search fa-fw"})),s.a.createElement("div",{className:"dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in","aria-labelledby":"searchDropdown"},s.a.createElement("form",{className:"form-inline mr-auto w-100 navbar-search"},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",className:"form-control bg-light border-0 small",placeholder:"Search for...","aria-label":"Search","aria-describedby":"basic-addon2"}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{className:"btn btn-primary",type:"button"},s.a.createElement("i",{className:"fas fa-search fa-sm"}))))))),s.a.createElement("li",{className:"nav-item dropdown no-arrow mx-1"},s.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"alertsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement("i",{className:"fa fa-bell"}),s.a.createElement("span",{className:"badge badge-danger badge-counter"},"3+")),s.a.createElement("div",{className:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"alertsDropdown"},s.a.createElement("h6",{className:"dropdown-header"},"Alerts Center"),s.a.createElement("a",{className:"dropdown-item d-flex align-items-center",href:"#"},s.a.createElement("div",{className:"mr-3"},s.a.createElement("div",{className:"icon-circle bg-primary"},s.a.createElement("i",{className:"fas fa-file-alt text-white"}))),s.a.createElement("div",null,s.a.createElement("div",{className:"small text-gray-500"},"December 12, 2019"),s.a.createElement("span",{className:"font-weight-bold"},"A new monthly report is ready to download!"))),s.a.createElement("a",{className:"dropdown-item d-flex align-items-center",href:"#"},s.a.createElement("div",{className:"mr-3"},s.a.createElement("div",{className:"icon-circle bg-success"},s.a.createElement("i",{className:"fas fa-donate text-white"}))),s.a.createElement("div",null,s.a.createElement("div",{className:"small text-gray-500"},"December 7, 2019"),"$290.29 has been deposited into your account!")),s.a.createElement("a",{className:"dropdown-item d-flex align-items-center",href:"#"},s.a.createElement("div",{className:"mr-3"},s.a.createElement("div",{className:"icon-circle bg-warning"},s.a.createElement("i",{className:"fas fa-exclamation-triangle text-white"}))),s.a.createElement("div",null,s.a.createElement("div",{className:"small text-gray-500"},"December 2, 2019"),"Spending Alert: We've noticed unusually high spending for your account.")),s.a.createElement("a",{className:"dropdown-item text-center small text-gray-500",href:"#"},"Show All Alerts"))),s.a.createElement("li",{className:"nav-item dropdown no-arrow mx-1"},s.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"messagesDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement("i",{className:"fas fa-envelope fa-fw"}),s.a.createElement("span",{className:"badge badge-danger badge-counter"},"7")),s.a.createElement("div",{className:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"messagesDropdown"},s.a.createElement("h6",{className:"dropdown-header"},"Message Center"),s.a.createElement("a",{className:"dropdown-item d-flex align-items-center",href:"#"},s.a.createElement("div",{className:"dropdown-list-image mr-3"},s.a.createElement("img",{className:"rounded-circle",src:"https://source.unsplash.com/fn_BT9fwg_E/60x60",alt:!0}),s.a.createElement("div",{className:"status-indicator bg-success"})),s.a.createElement("div",{className:"font-weight-bold"},s.a.createElement("div",{className:"text-truncate"},"Hi there! I am wondering if you can help me with a problem I've been having."),s.a.createElement("div",{className:"small text-gray-500"},"Emily Fowler \xb7 58m"))),s.a.createElement("a",{className:"dropdown-item d-flex align-items-center",href:"#"},s.a.createElement("div",{className:"dropdown-list-image mr-3"},s.a.createElement("img",{className:"rounded-circle",src:"https://source.unsplash.com/AU4VPcFN4LE/60x60",alt:!0}),s.a.createElement("div",{className:"status-indicator"})),s.a.createElement("div",null,s.a.createElement("div",{className:"text-truncate"},"I have the photos that you ordered last month, how would you like them sent to you?"),s.a.createElement("div",{className:"small text-gray-500"},"Jae Chun \xb7 1d"))),s.a.createElement("a",{className:"dropdown-item d-flex align-items-center",href:"#"},s.a.createElement("div",{className:"dropdown-list-image mr-3"},s.a.createElement("img",{className:"rounded-circle",src:"https://source.unsplash.com/CS2uCrpNzJY/60x60",alt:!0}),s.a.createElement("div",{className:"status-indicator bg-warning"})),s.a.createElement("div",null,s.a.createElement("div",{className:"text-truncate"},"Last month's report looks great, I am very happy with the progress so far, keep up the good work!"),s.a.createElement("div",{className:"small text-gray-500"},"Morgan Alvarez \xb7 2d"))),s.a.createElement("a",{className:"dropdown-item d-flex align-items-center",href:"#"},s.a.createElement("div",{className:"dropdown-list-image mr-3"},s.a.createElement("img",{className:"rounded-circle",src:"https://source.unsplash.com/Mv9hjnEUHR4/60x60",alt:!0}),s.a.createElement("div",{className:"status-indicator bg-success"})),s.a.createElement("div",null,s.a.createElement("div",{className:"text-truncate"},"Am I a good boy? The reason I ask is because someone told me that people say this to all dogs, even if they aren't good..."),s.a.createElement("div",{className:"small text-gray-500"},"Chicken the Dog \xb7 2w"))),s.a.createElement("a",{className:"dropdown-item text-center small text-gray-500",href:"#"},"Read More Messages"))),s.a.createElement("div",{className:"topbar-divider d-none d-sm-block"}),s.a.createElement("li",{className:"nav-item dropdown no-arrow"},s.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement("span",{className:"mr-2 d-none d-lg-inline text-gray-600 small"},"Pham Minh Tuan"),s.a.createElement("img",{className:"img-profile rounded-circle",src:"http://res.cloudinary.com/tuanpham/image/upload/v1594726459/tuanpham/lokjdozzwezbgsry3jdh.jpg",alt:"anh dai dien"})),s.a.createElement("div",{className:"dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"userDropdown"},s.a.createElement("a",{className:"dropdown-item",href:"#"},s.a.createElement("i",{className:"fas fa-user fa-sm fa-fw mr-2 text-gray-400"}),"Profile"),s.a.createElement("a",{className:"dropdown-item",href:"#"},s.a.createElement("i",{className:"fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"}),"Settings"),s.a.createElement("a",{className:"dropdown-item",href:"#"},s.a.createElement("i",{className:"fas fa-list fa-sm fa-fw mr-2 text-gray-400"}),"Activity Log"),s.a.createElement("div",{className:"dropdown-divider"}),s.a.createElement("a",{className:"dropdown-item",href:"#","data-toggle":"modal","data-target":"#logoutModal"},s.a.createElement("i",{className:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),"Logout"))))))}}]),a}(r.Component),Oe=(a(441),r.Component,function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},s.a.createElement("div",{id:"content"},s.a.createElement(xe,null),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"d-sm-flex align-items-center justify-content-between mb-4"},s.a.createElement("h1",{className:"h3 mb-0 text-gray-800"},"Dashboard"),s.a.createElement("a",{href:"#",className:"d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"},s.a.createElement("i",{className:"fas fa-download fa-sm text-white-50"})," Generate Report")))),s.a.createElement("footer",{className:"sticky-footer bg-white"},s.a.createElement("div",{className:"container my-auto"},s.a.createElement("div",{className:"copyright text-center my-auto"},s.a.createElement("span",null,"Copyright \xa9 Your Website 2020")))))}}]),a}(r.Component)),je=(a(534),function(){var e=Object(g.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/admin/showUsers",{headers:q()});case 3:t=e.sent,a=t.data,localStorage.setItem("users-admin",JSON.stringify(a.users)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()),_e=function(){var e=Object(g.a)(h.a.mark((function e(t,a,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("/api/admin/userAccountLock/"+t,{isVerified:n,permissions:a},{headers:q()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),De=function(){var e=Object(g.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("/api/admin/changePermissions/"+t,{permissions:a},{headers:q()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Te=function(){var e=Object(g.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("/api/admin/removeUser/"+t,{permissions:a},{headers:q()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Re=function(){var e=Object(g.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("/api/admin/removePost/"+t,{userId:a},{headers:q()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Me=(r.Component,a(115)),Ae=a.n(Me),Le=a(165),Fe=a.n(Le),Pe=a(279),qe=a.n(Pe),Ue=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).isChange=function(e){console.log(e.target.value),n.setState(Object(E.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t={firstName:n.state.firstName,lastName:n.state.lastName,birthday:n.state.year+"-"+n.state.month+"-"+n.state.day,sex:JSON.parse(n.state.sex),phone:n.state.phone,religion:n.state.religion};n.props.updatePerDetail(t),n.props.setUser(t),console.log(n.state.day),n.setState({firstName:n.state.firstName,lastName:n.state.lastName,birthday:n.state.year+"-"+n.state.month+"-"+n.state.day,day:n.state.day,month:n.state.month,year:n.state.year,sex:JSON.parse(n.state.sex),phone:n.state.phone,religion:n.state.religion}),n.props.disableModal(0)},n.state={},n}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){this.setState({firstName:e.user.firstName,lastName:e.user.lastName,day:new Date(e.user.birthday).getDate(),month:new Date(e.user.birthday).getMonth()+1,year:new Date(e.user.birthday).getFullYear(),sex:e.user.sex,phone:e.user.phone,religion:e.user.religion})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"modal animate"},s.a.createElement("div",{className:"Edit"},s.a.createElement("span",{className:"close",title:"Close Modal",onClick:function(){return e.props.disableModal(0)}},"\xd7"),s.a.createElement("h2",{align:"center"},"Personal Detail Edit"),s.a.createElement("form",{id:"contactform",name:"contact",method:"post",action:"#",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"row"},s.a.createElement("label",{htmlFor:"name"},"First Name",s.a.createElement("span",{className:"req"},"*")),s.a.createElement("input",{type:"text",name:"firstName",id:"name",className:"txt-edit",tabIndex:"1",defaultValue:this.state.firstName,required:!0,onChange:this.isChange})),s.a.createElement("div",{className:"row"},s.a.createElement("label",{htmlFor:"name"},"Last Name",s.a.createElement("span",{className:"req"},"*")),s.a.createElement("input",{type:"text",name:"lastName",id:"name",className:"txt-edit",tabIndex:"1",defaultValue:this.state.lastName,required:!0,onChange:this.isChange})),s.a.createElement("div",{className:"row"},s.a.createElement("label",null,"Birthday",s.a.createElement("span",{className:"req"},"*")),s.a.createElement("select",{name:"day",className:"select-birthday",value:this.state.day,onChange:this.isChange},Object(O.a)(Array(31)).map((function(t,a){return parseInt(e.state.day)===a+1?s.a.createElement("option",{selected:!0,key:a,value:a+1},a+1," "):s.a.createElement("option",{key:a,value:a+1},a+1," ")}))),s.a.createElement("select",{name:"month",className:"select-birthday",value:this.state.month,onChange:this.isChange},Object(O.a)(Array(12)).map((function(t,a){return parseInt(e.state.month)===a+1?s.a.createElement("option",{selected:!0,key:a,value:a+1},"Th\xe1ng ",a+1):s.a.createElement("option",{key:a,value:a+1},"Th\xe1ng ",a+1)}))),s.a.createElement("select",{name:"year",className:"select-birthday",defaultValue:this.state.year,onChange:this.isChange},Object(O.a)(Array(91)).map((function(t,a){return e.state.year===a+1930?s.a.createElement("option",{selected:!0,key:a,value:a+1930},a+1930):s.a.createElement("option",{key:a,value:a+1930},a+1930)})))),s.a.createElement("div",{className:"row"},s.a.createElement("label",{htmlFor:"sex"},"Gender",s.a.createElement("span",{className:"req"},"*")),this.state.sex?s.a.createElement("select",{name:"sex",className:"select-gender",onChange:this.isChange},s.a.createElement("option",{value:!0,selected:!0},"Nam"),s.a.createElement("option",{value:!1},"N\u1eef")):s.a.createElement("select",{name:"sex",className:"select-gender",onChange:this.isChange},s.a.createElement("option",{value:!0},"Nam"),s.a.createElement("option",{value:!1,selected:!0},"N\u1eef"))),s.a.createElement("div",{className:"row"},s.a.createElement("label",null,"Phone",s.a.createElement("span",{className:"req"},"*")),s.a.createElement("input",{type:"text",name:"phone",className:"txt-edit",tabIndex:"2",placeholder:"0777561933",required:!0,defaultValue:this.state.phone,onChange:this.isChange})),s.a.createElement("div",{className:"row"},s.a.createElement("label",null,"Religion",s.a.createElement("span",{className:"req"},"*")),s.a.createElement("input",{type:"text",name:"religion",className:"txt-edit",tabIndex:"2",placeholder:"Ph\u1eadt gi\xe1o",required:!0,onChange:this.isChange,defaultValue:this.state.religion})),s.a.createElement("div",{className:"center"},s.a.createElement("input",{type:"submit",id:"submitbtn",name:"submitbtn",tabIndex:"5",value:"Save"})))))}}]),a}(r.Component),Be=Object(G.b)((function(e){return{currentUser:e.currentUserReducer}}),(function(e){return{updatePerDetail:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.put("/api/user/updatePerDetail",{formData:e},{headers:q()});case 3:a({type:"GET_ALL_USERS"}),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Ue),He=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"modal animate"},s.a.createElement("div",{className:"Edit"},s.a.createElement("span",{className:"close",title:"Close Modal"},"\xd7"),s.a.createElement("h2",{align:"center"},"High School Education Edit"),s.a.createElement("form",{action:"#",onSubmit:"return false"},s.a.createElement("br",null),s.a.createElement("label",null,"High School"),s.a.createElement("br",null),s.a.createElement("input",{type:"text",name:"hschool",placeholder:"Enter Primary School",required:!0}),s.a.createElement("br",null),s.a.createElement("label",null,"Start Year"),s.a.createElement("label",{style:{position:"absolute",left:"50.6%"}},"End Year"),s.a.createElement("br",null),s.a.createElement("input",{style:{width:"49%"},type:"number",name:"syear1",placeholder:"Start Year",min:1970,max:2017,required:!0}),s.a.createElement("input",{style:{width:"49%"},type:"number",name:"eyear1",placeholder:"End Year",min:1970,required:!0}),s.a.createElement("br",null),s.a.createElement("button",{type:"submit"},"Update"),s.a.createElement("br",null),s.a.createElement("button",{type:"button",className:"cancelbtn"},"Cancel"),s.a.createElement("br",null))))}}]),a}(r.Component),Ge=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"modal animate"},s.a.createElement("div",{className:"Edit"},s.a.createElement("span",{className:"close",title:"Close Modal"},"\xd7"),s.a.createElement("h2",{align:"center"},"University Education Edit"),s.a.createElement("form",{action:"#",onSubmit:"return false"},s.a.createElement("br",null),s.a.createElement("label",null,"University"),s.a.createElement("br",null),s.a.createElement("input",{type:"text",name:"university",placeholder:"Enter Secondary School",required:!0}),s.a.createElement("br",null),s.a.createElement("label",null,"Field of Study"),s.a.createElement("br",null),s.a.createElement("input",{type:"text",name:"fstudy2",placeholder:"Enter Field of Study",required:!0}),s.a.createElement("br",null),s.a.createElement("label",null,"Start Year"),s.a.createElement("label",{style:{position:"absolute",left:"50.6%"}},"End Year"),s.a.createElement("br",null),s.a.createElement("input",{style:{width:"49%"},type:"number",name:"syear1",placeholder:"Start Year",min:1970,max:2017,required:!0}),s.a.createElement("input",{style:{width:"49%"},type:"number",name:"eyear1",placeholder:"End Year",min:1970,required:!0}),s.a.createElement("br",null),s.a.createElement("button",{type:"submit"},"Update"),s.a.createElement("br",null),s.a.createElement("button",{type:"button",className:"cancelbtn"},"Cancel"),s.a.createElement("br",null))))}}]),a}(r.Component),We=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"modal animate"},s.a.createElement("div",{className:"Edit"},s.a.createElement("span",{className:"close",title:"Close Modal"},"\xd7"),s.a.createElement("h2",{align:"center"},"Address Edit"),s.a.createElement("form",{action:"#",onSubmit:"return false"},s.a.createElement("br",null),s.a.createElement("label",null,"Country"),s.a.createElement("br",null),s.a.createElement("input",{type:"text",name:"country",placeholder:"Enter Country",required:!0}),s.a.createElement("br",null),s.a.createElement("label",null,"City"),s.a.createElement("br",null),s.a.createElement("input",{type:"text",name:"city",placeholder:"Enter State",required:!0}),s.a.createElement("br",null),s.a.createElement("label",null,"District"),s.a.createElement("br",null),s.a.createElement("input",{type:"text",name:"district",placeholder:"Enter District",required:!0}),s.a.createElement("br",null),s.a.createElement("label",null,"Village"),s.a.createElement("br",null),s.a.createElement("input",{type:"number",name:"village",placeholder:"Enter ZIP code",required:!0}),s.a.createElement("br",null),s.a.createElement("label",null,"Street"),s.a.createElement("br",null),s.a.createElement("input",{type:"number",name:"street",placeholder:"Enter ZIP code",required:!0}),s.a.createElement("br",null),s.a.createElement("button",{type:"submit"},"Update"),s.a.createElement("br",null),s.a.createElement("button",{type:"button",className:"cancelbtn"},"Cancel"),s.a.createElement("br",null))))}}]),a}(r.Component),Ye=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"modal animate"},s.a.createElement("div",{className:"Edit"},s.a.createElement("span",{className:"close",title:"Close Modal"},"\xd7"),s.a.createElement("h2",{align:"center"},"More About You Edit"),s.a.createElement("form",{action:"#",onSubmit:"return false"},s.a.createElement("br",null),s.a.createElement("label",{htmlFor:"interest"},"Relationship"),s.a.createElement("br",null),s.a.createElement("select",{style:{width:"100%",padding:"10px 16px",margin:"12px 0",display:"inline-block",border:"1px solid #ccc",boxSizing:"border-box",borderRadius:"5px",fontSize:"14px"},title:"Interest",id:"interest"},s.a.createElement("option",{value:"Relationship"},"Relationship"),s.a.createElement("option",{value:"\u0111\u1ed9c th\xe2n"},"\u0110\u1ed9c th\xe2n"),s.a.createElement("option",{value:"Woman"},"\u0110\xe3 c\xf3 ng\u01b0\u1eddi y\xeau"),s.a.createElement("option",{value:"Men and Woman"},"\u0110\xe3 c\xf3 gia \u0111\xecnh"),s.a.createElement("option",{value:"Men and Woman"},"\u0110ang h\u1eb9n h\xf2")),s.a.createElement("br",null),s.a.createElement("label",{htmlFor:"interest"},"Interest In"),s.a.createElement("br",null),s.a.createElement("select",{style:{width:"100%",padding:"10px 16px",margin:"12px 0",display:"inline-block",border:"1px solid #ccc",boxSizing:"border-box",borderRadius:"5px",fontSize:"14px"},title:"Interest",id:"interest"},s.a.createElement("option",{value:"Interest In"},"Interest In"),s.a.createElement("option",{value:"Men"},"Nam"),s.a.createElement("option",{value:"Woman"},"N\u1eef"),s.a.createElement("option",{value:"Men and Woman"},"Nam v\xe0 N\u1eef")),s.a.createElement("br",null),s.a.createElement("label",null,"Hobby"),s.a.createElement("br",null),s.a.createElement("input",{type:"text",name:"hobby",placeholder:"Enter Hobby",required:!0}),s.a.createElement("br",null),s.a.createElement("button",{type:"submit"},"Update"),s.a.createElement("br",null),s.a.createElement("button",{type:"button",className:"cancelbtn"},"Cancel"),s.a.createElement("br",null))))}}]),a}(r.Component),Je=JSON.parse(localStorage.getItem("user")),Ve=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleLogout=function(){R(),n.setState({isLogin:!1})},n.setUser=function(e){console.log(e),n.setState({firstName:e.firstName,lastName:e.lastName,email:e.email,birthday:e.birthday,sex:e.sex,phone:e.phone,religion:e.religion})},n.handleUpLoadProfileImg=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target.files[0]),(a=new FormData).append("file",t.target.files[0]),a.append("upload_preset","tuanpham"),e.next=6,U(a);case 6:r=e.sent,delete n.props.user.profileImage,n.props.user.profileImage=r,n.setState({profileImage:r});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleUpLoadCoverImages=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,r,s,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target.files[0]),(a=new FormData).append("file",t.target.files[0]),a.append("upload_preset","tuanpham"),e.next=6,B(a);case 6:for(r=e.sent,window.location.reload(),s=[],l=0;l<3;l++)s.push(r[l]);n.setState({coverImages:s});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.showSlides=function(){try{switch(n.state.coverImages.length){case 1:return s.a.createElement("div",null,s.a.createElement("div",{className:"singleslide"},s.a.createElement("img",{alt:"hihi",src:n.state.coverImages[0],className:"slidimg"})),s.a.createElement("div",{className:"singleslide"},s.a.createElement("img",{alt:"hihi",src:Ae.a,className:"slidimg"})),s.a.createElement("div",{className:"singleslide"},s.a.createElement("img",{alt:"hihi",src:Fe.a,className:"slidimg"})));case 2:return s.a.createElement("div",null,s.a.createElement("div",{className:"singleslide"},s.a.createElement("img",{alt:"hihi",src:n.state.coverImages[0],className:"slidimg"})),s.a.createElement("div",{className:"singleslide"},s.a.createElement("img",{alt:"hihi",src:n.state.coverImages[1],className:"slidimg"})),s.a.createElement("div",{className:"singleslide"},s.a.createElement("img",{alt:"hihi",src:Ae.a,className:"slidimg"})));case 3:return s.a.createElement("div",null,s.a.createElement("div",{className:"singleslide"},s.a.createElement("img",{alt:"hihi",src:n.state.coverImages[0],className:"slidimg"})),s.a.createElement("div",{className:"singleslide"},s.a.createElement("img",{alt:"hihi",src:n.state.coverImages[1],className:"slidimg"})),s.a.createElement("div",{className:"singleslide"},s.a.createElement("img",{alt:"hihi",src:n.state.coverImages[2],className:"slidimg"})));default:return s.a.createElement("div",null,s.a.createElement("div",{className:"singleslide"},s.a.createElement("img",{alt:"hihi",src:Ae.a,className:"slidimg"})),s.a.createElement("div",{className:"singleslide"},s.a.createElement("img",{alt:"hihi",src:Fe.a,className:"slidimg"})),s.a.createElement("div",{className:"singleslide"},s.a.createElement("img",{alt:"hihi",src:qe.a,className:"slidimg"})))}}catch(e){}},n.addFriend=function(e){var t=new ee.a;ue.emit("add-friend",{contactId:e,notificationId:t,type:"ADD_FRIEND"}),n.props.addFriend(e,t);var a=document.getElementById("add-friend-profile-"+e),r=document.getElementById("cancel-request-profile-"+e),s=document.getElementById("add-friend-"+e),l=document.getElementById("cancel-request-"+e);console.log(r),a&&(a.style.display="none"),r&&(r.style.display="block"),s&&(s.style.display="none"),l&&(l.style.display="block")},n.cancelRequest=function(e){var t=new ee.a;ue.emit("cancel-request",{contactId:e,notificationId:t,type:"CANCEL_REQUEST"}),n.props.cancelRequest(e,t);var a=document.getElementById("add-friend-profile-"+e),r=document.getElementById("cancel-request-profile-"+e),s=document.getElementById("add-friend-"+e),l=document.getElementById("cancel-request-"+e);a&&(a.style.display="block"),r&&(r.style.display="none"),s&&(s.style.display="block"),l&&(l.style.display="none")},n.onClickUnFriend=function(e,t){e.preventDefault(),n.setState({isContact:!1}),n.props.unFriend(t);var a=document.getElementById("add-friend-profile-"+t);a&&(a.style.display="block")},n.state={profileImage:"",coverImages:[],isContact:void 0,isAddFriend:void 0},n}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){this.setState({profileImage:e.user.profileImage,coverImages:e.user.coverImages,firstName:e.user.firstName,lastName:e.user.lastName,email:e.user.email,birthday:e.user.birthday,sex:e.user.sex,phone:e.user.phone,religion:e.user.religion,isContact:e.isContact,isAddFriend:e.isAddFriend})}},{key:"componentDidMount",value:function(){this.props.getContacts()}},{key:"render",value:function(){var e=this,t=this.state.profileImage;return s.a.createElement("div",{className:"leftfixedprofile"},s.a.createElement("div",{className:"slideshowcontainer"},Je._id===this.props.user._id?s.a.createElement("div",null,s.a.createElement("input",{type:"file",name:"pic",className:"chooseslide",accept:"image/*",title:"change slideshow image",onChange:this.handleUpLoadCoverImages,onMouseOver:function(){return e.props.stopTime()},onMouseOut:function(){return e.props.startTime()}}),s.a.createElement("p",{className:"slideEdit"},"\u270e")):"",s.a.createElement("div",{className:"bubble"},s.a.createElement("span",{className:"dot",onClick:function(){return e.props.currentSlide(1)}}),s.a.createElement("span",{className:"dot",onClick:function(){return e.props.currentSlide(3)}}),s.a.createElement("span",{className:"dot",onClick:function(){return e.props.currentSlide(3)}})),this.showSlides(),s.a.createElement("div",{className:"prev",onClick:function(){return e.props.plusSlides(-1)}},"\u276e"),s.a.createElement("div",{className:"next",onClick:function(){return e.props.plusSlides(1)}},"\u276f")),s.a.createElement("div",{className:"sidebarleftprofile"},Je._id===this.props.user._id?s.a.createElement("div",null,s.a.createElement("input",{type:"file",name:"file",className:"chooseslide1",accept:"image/*",title:"change profile pic",onChange:this.handleUpLoadProfileImg}),s.a.createElement("p",{className:"slideEdit1"},"\u270e")):"",s.a.createElement("img",{alt:"profile",src:t||Y.a,title:"Profile Pic",className:"profilepic"}),s.a.createElement("p",{id:"sidename"}," ",this.state.lastName," ",this.state.firstName),s.a.createElement("p",{id:"nosociety"},this.props.user.followQuantity),this.state.isContact&&Je._id!==this.props.user._id?s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{type:"button",className:"btn btn-danger dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement("i",{className:"fas fa-user-check"})),s.a.createElement("div",{className:"dropdown-menu"},s.a.createElement("a",{className:"dropdown-item",href:"#unfriend",onClick:function(t){return e.onClickUnFriend(t,e.props.user._id)}},s.a.createElement("i",{className:"fas fa-user-times"}),"Unfriend"))):"",this.state.isAddFriend&&!this.state.isContact&&Je._id!==this.props.user._id?s.a.createElement("div",null,s.a.createElement("button",{id:"add-friend-profile-"+this.props.user._id,className:"btn btn-danger",onClick:function(){return e.addFriend(e.props.user._id)},style:{display:"none"}},s.a.createElement("i",{className:"fas fa-user-plus"}),"Add Friend"),s.a.createElement("button",{id:"cancel-request-profile-"+this.props.user._id,className:"btn btn-danger cancel-request",onClick:function(){return e.cancelRequest(e.props.user._id)}},s.a.createElement("i",{className:"fas fa-user-times"}),"Cancel Request")):this.state.isAddFriend||this.state.isContact||Je._id===this.props.user._id?"":s.a.createElement("div",null,s.a.createElement("button",{id:"cancel-request-profile-"+this.props.user._id,className:"btn btn-danger cancel-request",onClick:function(){return e.cancelRequest(e.props.user._id)},style:{display:"none"}},s.a.createElement("i",{className:"fas fa-user-times"}),"Cancel Request"),s.a.createElement("button",{id:"add-friend-profile-"+this.props.user._id,className:"btn btn-danger",onClick:function(){return e.addFriend(e.props.user._id)}},s.a.createElement("i",{className:"fas fa-user-plus"}),"Add Friend"))),s.a.createElement("div",{className:"timeline"},s.a.createElement("div",{className:"container left"},Je._id===this.props.user._id?s.a.createElement("p",{className:"slideEdit2",title:"Edit",onClick:function(){return e.props.enableModal()}},"\u270e"):"",s.a.createElement("div",{className:"tcontent"},s.a.createElement("h2",null,"Personal Detail"),s.a.createElement("h4",null,"First Name:"),s.a.createElement("p",null,this.state.firstName),s.a.createElement("h4",null,"Last Name:"),s.a.createElement("p",null,this.state.lastName),s.a.createElement("h4",null,"Email:"),s.a.createElement("p",null,this.state.email),s.a.createElement("h4",null,"Date Of Birth:"),s.a.createElement("p",null,"12 Feb 1997"),s.a.createElement("h4",null,"Gender:"),s.a.createElement("p",null,this.state.sex?"Nam":"N\u1eef"),s.a.createElement("h4",null,"Phone no:"),s.a.createElement("p",null,this.state.phone?this.state.phone:"H\xe3y nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\u1ee7a b\u1ea1n!!!"),s.a.createElement("h4",null,"Religion"),s.a.createElement("p",null,this.state.religion?this.state.religion:"T\xf4n gi\xe1o c\u1ee7a b\u1ea1n l\xe0 g\xec?"))),s.a.createElement("div",{className:"container right"},Je._id===this.props.user._id?s.a.createElement("p",{className:"slideEdit2",title:"Edit"},"\u270e"):"",s.a.createElement("div",{className:"tcontent"},s.a.createElement("h2",null,"High School Education"),s.a.createElement("h4",null,"High School:"),s.a.createElement("p",null,this.props.user.highSchool?this.props.user.highSchool:"Th\xeam th\xf4ng tin v\u1ec1 tr\u01b0\u1eddng THPT!"),s.a.createElement("h4",null,"Academy Year:"),s.a.createElement("p",null,this.props.user.academyYear?this.props.user.academyYear:"Ni\xean kh\xf3a bao nhi\xeau b\u1ea1n nh\u1ec9?"))),s.a.createElement("div",{className:"container left"},Je._id===this.props.user._id?s.a.createElement("p",{className:"slideEdit2",title:"Edit"},"\u270e"):"",s.a.createElement("div",{className:"tcontent"},s.a.createElement("h2",null,"University Education"),s.a.createElement("h4",null,"University:"),s.a.createElement("p",null,this.props.user.university?this.props.user.university:"Th\xeam th\xf4ng tin v\u1ec1 tr\u01b0\u1eddng \u0110H!"),s.a.createElement("h4",null,"Field of Study:"),s.a.createElement("p",null,this.props.user.fieldOfStudy?this.props.user.fieldOfStudy:"Chuy\xean ngh\xe0nh c\u1ee7a b\u1ea1n?"),s.a.createElement("h4",null,"Academy Year:"),s.a.createElement("p",null,this.props.user.academyYear?this.props.user.academyYear:"Ni\xean kh\xf3a bao nhi\xeau b\u1ea1n nh\u1ec9?"))),s.a.createElement("div",{className:"container right"},Je._id===this.props.user._id?s.a.createElement("p",{className:"slideEdit2",title:"Edit"},"\u270e"):"",s.a.createElement("div",{className:"tcontent"},s.a.createElement("h2",null,"Address"),s.a.createElement("h4",null,"Country:"),s.a.createElement("p",null,this.props.user.country?this.props.user.country:"H\u1ecfi n\xe8, Qu\u1ed1c Gia c\u1ee7a b\u1ea1n l\xe0 g\xec?"),s.a.createElement("h4",null,"City:"),s.a.createElement("p",null,this.props.user.city?this.props.user.city:"Th\xe0nh ph\u1ed1 b\u1ea1n \u0111ang s\u1ed1ng l\xe0 g\xec \u0111\u1ea5y!!!"),s.a.createElement("h4",null,"District:"),s.a.createElement("p",null,this.props.user.district?this.props.user.district:"Qu\u1eadn/Huy\u1ec7n n\xe0o nh\u1ec9?!"),s.a.createElement("h4",null,"Village:"),s.a.createElement("p",null,this.props.user.village?this.props.user.village:"X\xe3 n\xe0o nh\u1ec9?!"),s.a.createElement("h4",null,"Street:"),s.a.createElement("p",null,this.props.user.street?this.props.user.street:"\u0110\u1ea1i ch\u1ec9 \u0111\u01b0\u1eddng l\xe0 g\xec nh\u1ec9?!"))),s.a.createElement("div",{className:"container left"},Je._id===this.props.user._id?s.a.createElement("p",{className:"slideEdit2",title:"Edit"},"\u270e"):"",s.a.createElement("div",{className:"tcontent"},s.a.createElement("h2",null,"More About You"),s.a.createElement("h4",null,"Relationship:"),s.a.createElement("p",null,this.props.user.relationship?this.props.user.relationship:"\u1ee6a, r\u1ed3i b\u1ea1n c\xf3 ng\u01b0\u1eddi y\xeau ch\u01b0a?"),s.a.createElement("h4",null,"Interested In:"),s.a.createElement("p",null,this.props.user.interested?this.props.user.interested:"B\u1ea1n th\xedch gi\u1edbi t\xednh n\xe0o n\xe8?"),s.a.createElement("h4",null,"Hobby:"),s.a.createElement("p",null,this.props.user.hobby?this.props.user.hobby:"S\u1edf th\xedch c\u1ee7a b\u1ea1n l\xe0 g\xec?")))),s.a.createElement(Be,{disableModal:function(t){return e.props.disableModal(t)},user:this.props.user,setUser:function(t){return e.setUser(t)}}),s.a.createElement(He,{disableModal:function(t){return e.props.disableModal(t)}}),s.a.createElement(Ge,{disableModal:function(t){return e.props.disableModal(t)}}),s.a.createElement(We,{disableModal:function(t){return e.props.disableModal(t)}}),s.a.createElement(Ye,null))}}]),a}(r.Component),ze=Object(G.b)((function(e){return{contacts:e.contactReducer.contacts}}),(function(e){return{addFriend:function(t,a){return e(V(t,a))},cancelRequest:function(t,a){return e(z(t,a))},getContacts:function(){return e(J())},unFriend:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.delete("/api/contact/unFriend/"+e,{headers:q()});case 3:n=t.sent,console.log(n.data),a({type:"CANCEL_REQUEST"}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Ve),Qe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"message",id:"msg1"},s.a.createElement("button",{id:"msg2"},"Messaging"),s.a.createElement("p",null," No New Messages."))}}]),a}(r.Component),Ke=(a(535),1),Xe=0,Ze=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).showSlides=function(e){var t=Object($.a)(r),a=document.getElementsByClassName("singleslide"),s=document.getElementsByClassName("dot");e>a.length&&(Ke=1),e<1&&(Ke=a.length);for(var l=0;l<a.length;l++)a[l].style.display="none",s[l]&&(s[l].className=s[l].className.replace(" active",""));a[Ke-1]&&(a[Ke-1].style.display="block",s[Ke-1].className+=" active",0===Xe?n=setTimeout((function(){t.showSlides(Ke+=1)}),6e3):1===Xe&&(Xe=0))},r.state={user:{}},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params;this.props.getUserById(e.userId),this.props.getIsContact(e.userId),this.props.getIsAddFriend(e.userId)}},{key:"plusSlides",value:function(e){Xe=1,this.showSlides(Ke+=e)}},{key:"currentSlide",value:function(e){Xe=1,this.showSlides(Ke=e)}},{key:"stopTime",value:function(){clearTimeout(n)}},{key:"startTime",value:function(){0===Xe&&this.showSlides(Ke)}},{key:"disableModal",value:function(e){var t=document.getElementsByClassName("modal");t[e].className=t[e].className.replace(" animate"," deanimate"),setTimeout((function(){document.getElementsByClassName("modal")[e].style.display="none"}),500)}},{key:"enableModal",value:function(){var e=document.getElementsByClassName("modal");e[0].className=e[0].className.replace(" deanimate"," animate"),document.getElementsByClassName("modal")[0].style.display="block"}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(be,null),s.a.createElement("div",{className:"content",onLoad:function(){return e.showSlides(1)}},s.a.createElement("div",{className:"wrapper"},s.a.createElement(ze,{stopTime:function(){return e.stopTime()},startTime:function(){return e.startTime()},currentSlide:function(t){return e.currentSlide(t)},plusSlides:function(t){return e.plusSlides(t)},enableModal:function(){return e.enableModal()},disableModal:function(t){return e.disableModal(t)},user:this.props.user,isContact:this.props.isContact,isAddFriend:this.props.isAddFriend}),s.a.createElement(we,null),s.a.createElement(Qe,null))))}}]),a}(r.Component),$e=Object(G.b)((function(e){return{user:e.getUserById,users:e.userReducer,isContact:e.contactReducer.isContact,isAddFriend:e.contactReducer.isAddFriend}}),(function(e){return{getUserById:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.get("/api/user/showUser/"+e,{headers:q()});case 3:n=t.sent,r=n.data,a({type:"GET_USER_BY_ID",payload:r.user}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))},getIsContact:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.get("/api/contact/getIsContact/"+e,{headers:q()});case 3:n=t.sent,r=n.data,a({type:"IS_CONTACT",payload:r.isContact}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))},getIsAddFriend:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.get("/api/contact/getIsAddFriend/"+e,{headers:q()});case 3:n=t.sent,r=n.data,a({type:"IS_ADD_FRIEND",payload:r.isAddFriend}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Ze),et=(a(536),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).isChange=function(e){n.setState(Object(E.a)({},e.target.name,e.target.value))},n.handleSubmit=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,C(n.state.email);case 4:a=e.sent,r=a.data,n.props.alert.success(r.message),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),s=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),n.props.alert.error(s),n.setState({email:""});case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),n.state={email:""},n}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"MainAuth recover"},s.a.createElement("div",{className:"container",id:"container"},s.a.createElement("div",{className:"form-container sign-in-container"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("h1",null,"L\u1ea5y l\u1ea1i m\u1eadt kh\u1ea9u"),this.props.message&&s.a.createElement("span",{className:"alert alert-danger",role:"alert"},this.props.message),s.a.createElement("input",{type:"email",name:"email",className:"txt",placeholder:"Email",required:!0,value:this.state.email,onChange:this.isChange}),s.a.createElement(d.b,{to:"/"},"Quay l\u1ea1i trang ",s.a.createElement("strong",null,"\u0111\u0103ng nh\u1eadp"),"?"),s.a.createElement("button",{id:"submitbtn"},"X\xe1c nh\u1eadn"))),s.a.createElement("div",{className:"overlay-container"},s.a.createElement("div",{className:"overlay"},s.a.createElement("div",{className:"overlay-panel overlay-right"},s.a.createElement("h1",null,"Hello, Friend!"),s.a.createElement("p",null,"\u0110\u1ec3 l\u1ea5y l\u1ea1i m\u1eadt kh\u1ea9u, vui l\xf2ng nh\u1eadp email c\u1ee7a b\u1ea1n \u0111\u1ec3 s\u1eed d\u1ee5ng d\u1ecbch v\u1ee5 c\u1ee7a ch\xfang t\xf4i."))))))}}]),a}(r.Component)),tt=Object(v.d)()(et),at=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).isChange=function(e){n.setState(Object(E.a)({},e.target.name,e.target.value))},n.handleSubmit=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,r,s,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,console.log(n.state.isReset),a=n.props.match.params,n.state.isReset){e.next=6;break}return e.abrupt("return",n.props.alert.error("M\xe3 \u0111\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u kh\xf4ng h\u1ee3p l\u1ec7 ho\u1eb7c \u0111\xe3 h\u1ebft h\u1ea1n."));case 6:if(n.state.cfpassword===n.state.password){e.next=8;break}return e.abrupt("return",n.props.alert.error("Hai m\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp."));case 8:if(nt(n.state.password)){e.next=11;break}return n.setState({password:""}),e.abrupt("return",n.props.alert.error("M\u1eadt kh\u1ea9u kh\xf4ng n\xean r\u1ed7ng, 8 k\xfd t\u1ef1 t\u1ed1i thi\u1ec3u, \xedt nh\u1ea5t m\u1ed9t ch\u1eef c\xe1i, m\u1ed9t s\u1ed1 v\xe0 m\u1ed9t k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t"));case 11:if(!n.state.isReset||n.state.cfpassword!==n.state.password){e.next=18;break}return e.next=14,k(a.token,n.state.password);case 14:return r=e.sent,s=r.data,n.setState({password:"",cfpassword:""}),e.abrupt("return",n.props.alert.success(s.message));case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),l=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),n.props.alert.error(l);case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),n.state={password:"",cfpassword:"",isReset:!1},n}return Object(o.a)(a,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;Object(g.a)(h.a.mark((function t(){var a,n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.props.match.params,t.next=4,I(a.token);case 4:n=t.sent,r=n.data,e.setState({isReset:r.isReset}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),(t.t0.response&&t.t0.response.data&&t.t0.response.data.message||t.t0.message||t.t0.toString())&&window.location.assign("/");case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}},{key:"render",value:function(){return s.a.createElement("div",{className:"MainAuth reset"},s.a.createElement("div",{className:"container",id:"container"},s.a.createElement("div",{className:"form-container sign-in-container"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("h1",null,"L\u1ea5y l\u1ea1i m\u1eadt kh\u1ea9u"),this.props.message&&s.a.createElement("span",{className:"alert alert-danger",role:"alert"},this.props.message),s.a.createElement("input",{type:"password",name:"password",className:"txt",placeholder:"Password",required:!0,value:this.state.password,onChange:this.isChange}),s.a.createElement("input",{type:"password",name:"cfpassword",className:"txt",placeholder:"Confirm Password",required:!0,value:this.state.cfpassword,onChange:this.isChange}),s.a.createElement(d.b,{to:"/"},"Quay l\u1ea1i trang ",s.a.createElement("strong",null,"\u0111\u0103ng nh\u1eadp"),"?"),s.a.createElement("button",{id:"submitbtn"},"X\xe1c nh\u1eadn"))),s.a.createElement("div",{className:"overlay-container"},s.a.createElement("div",{className:"overlay"},s.a.createElement("div",{className:"overlay-panel overlay-right"},s.a.createElement("h1",null,"Hello, Friend!"),s.a.createElement("p",null,"Vui l\xf2ng nh\u1eadp nh\u1eadp m\u1eadt kh\u1ea9u m\u1edbi c\u1ee7a b\u1ea1n \u0111\u1ec3 \u0111\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u nh\xe9!"))))))}}]),a}(r.Component),nt=function(e){return null!==/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9]).{8,}$/.exec(e)},rt=Object(v.d)()(at),st=a(105),lt=a.n(st),ct=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).isChangeSearch=function(e){var t=[];if(n.state.data.forEach((function(a){var r=a.lastName+" "+a.firstName;console.log(e.target.value.length),-1===a.email.toLowerCase().trim().indexOf(e.target.value.toLowerCase().trim())&&-1===n.toSlug(r).toLowerCase().trim().indexOf(e.target.value.toLowerCase().trim())||0===e.target.value.length||t.push(a)})),0===t.length){var a=n.state.data.slice(n.state.offset,n.state.offset+n.state.perPage);n.setState({postData:a})}else n.setState({postData:t})},n.isChange=function(e){var t=n.state.data.slice(n.state.offset,n.state.offset+e.target.value);n.setState({postData:t,stateShow:!0})},n.toSlug=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/(\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5)/g,"a")).replace(/(\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5)/g,"e")).replace(/(\xec|\xed|\u1ecb|\u1ec9|\u0129)/g,"i")).replace(/(\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1)/g,"o")).replace(/(\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef)/g,"u")).replace(/(\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9)/g,"y")).replace(/(\u0111)/g,"d")).replace(/([^0-9a-z-\s])/g,"")},n.receivedData=Object(g.a)(h.a.mark((function e(){var t,a,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=JSON.parse(localStorage.getItem("jwt")))){e.next=9;break}return e.next=5,N.a.get("/api/admin/showUsers",{headers:{Authorization:"Bearer ".concat(t)}});case 5:a=e.sent,r=a.data,s=r.users.slice(n.state.offset,n.state.offset+n.state.perPage),n.setState({data:r.users,pageCount:Math.ceil(r.users.length/n.state.perPage),postData:s,totalItemsCount:n.state.offset+s.length});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])}))),n.handlePageClick=function(e){var t=e.selected,a=t*n.state.perPage;n.setState({currentPage:t,offset:a,stateShow:!1},(function(){n.receivedData()}))},n.accountLock=function(e,t,a){var r=JSON.parse(localStorage.getItem("user")).permissions,s=n.state.data,l=s.find((function(t){return t._id===e}));(2===r&&3===t||1===r&&2===t||1===r&&3===t)&&(l.isVerified=!a),Object(g.a)(h.a.mark((function r(){var s,l,c;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,_e(e,t,!a);case 3:s=r.sent,l=s.data,n.props.alert.success(l.message),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),c=r.t0.response&&r.t0.response.data&&r.t0.response.data.message||r.t0.message||r.t0.toString(),n.props.alert.error(c);case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))(),n.setState({data:s})},n.isChangePermissions=function(e,t){var a=JSON.parse(localStorage.getItem("user")).permissions,r=n.state.data,s=r.find((function(t){return t._id===e}));1===a&&2===t?s.permissions=3:1===a&&3===t&&(s.permissions=2),Object(g.a)(h.a.mark((function a(){var r,s,l;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,De(e,t);case 3:r=a.sent,s=r.data,n.props.alert.success(s.message),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),l=a.t0.response&&a.t0.response.data&&a.t0.response.data.message||a.t0.message||a.t0.toString(),n.props.alert.error(l);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))(),n.setState({data:r})},n.onClickRemoveUser=function(e,t){var a=JSON.parse(localStorage.getItem("user")).permissions;if(2===a&&3===t){var r=n.state.postData.filter((function(t){return t._id!==e}));n.setState({postData:r})}else if(1===a&&2===t){var s=n.state.postData.filter((function(t){return t._id!==e}));n.setState({postData:s})}else if(1===a&&3===t){var l=n.state.postData.filter((function(t){return t._id!==e}));n.setState({postData:l})}Object(g.a)(h.a.mark((function a(){var r,s,l;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Te(e,t);case 3:r=a.sent,s=r.data,n.props.alert.success(s.message),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),l=a.t0.response&&a.t0.response.data&&a.t0.response.data.message||a.t0.message||a.t0.toString(),n.props.alert.error(l);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},n.sort=function(e,t){var a=n.state.data.slice(n.state.offset,n.state.offset+n.state.perPage);if("DESC"===t&&"email"===e)a.sort((function(e,t){return e.email.toLowerCase()!==t.email.toLowerCase()?e.email.toLowerCase()>t.email.toLowerCase()?-1:1:0})),n.setState({postData:a});else if("ASC"===t&&"email"===e)a.sort((function(e,t){return e.email.toLowerCase()!==t.email.toLowerCase()?e.email.toLowerCase()<t.email.toLowerCase()?-1:1:0})),n.setState({postData:a});else if("DESC"===t&&"firstName"===e)a.sort((function(e,t){return e.firstName.toLowerCase()!==t.firstName.toLowerCase()?e.firstName.toLowerCase()>t.firstName.toLowerCase()?-1:1:0})),n.setState({postData:a});else if("ASC"===t&&"firstName"===e)a.sort((function(e,t){return e.firstName.toLowerCase()!==t.firstName.toLowerCase()?e.firstName.toLowerCase()<t.firstName.toLowerCase()?-1:1:0})),n.setState({postData:a});else if("male"===t&&"sex"===e){var r=a.filter((function(e){return!0===e.sex}));n.setState({postData:r})}else if("female"===t&&"sex"===e){var s=a.filter((function(e){return!1===e.sex}));n.setState({postData:s})}else if("DESC"===t&&"age"===e)a.sort((function(e,t){var a=parseInt((new Date).getFullYear())-parseInt(new Date(e.birthday).getFullYear());return parseInt((new Date).getFullYear())-parseInt(new Date(t.birthday).getFullYear())-a})),n.setState({postData:a});else if("ASC"===t&&"age"===e)a.sort((function(e,t){return parseInt((new Date).getFullYear())-parseInt(new Date(e.birthday).getFullYear())-(parseInt((new Date).getFullYear())-parseInt(new Date(t.birthday).getFullYear()))})),n.setState({postData:a});else if("no"===t&&"isVerified"===e){var l=a.filter((function(e){return!1===e.isVerified}));n.setState({postData:l})}else if("yes"===t&&"isVerified"===e){var c=a.filter((function(e){return!0===e.isVerified}));n.setState({postData:c})}else if("admin"===t&&"permissions"===e){var i=a.filter((function(e){return 1===e.permissions}));n.setState({postData:i})}else if("moderator"===t&&"permissions"===e){var o=a.filter((function(e){return 2===e.permissions}));n.setState({postData:o})}else if("normal-user"===t&&"permissions"===e){var m=a.filter((function(e){return 3===e.permissions}));n.setState({postData:m})}},n.state={offset:0,data:[],perPage:5,currentPage:0,totalItemsCount:0,postData:[],textSearch:"",dataTable_length:5,stateShow:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.receivedData()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},s.a.createElement("div",{id:"content"},s.a.createElement(xe,null),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("h1",{className:"h3 mb-2 text-gray-800"},"Users Table"),s.a.createElement("p",{className:"mb-4"},"DataTables Users is the place to display user information with functions of deletion, authorization, and account lock."),s.a.createElement("div",{className:"card shadow mb-4"},s.a.createElement("div",{className:"card-header py-3"},s.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"DataTables Users")),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"table-responsive"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12 col-md-6"},s.a.createElement("div",{className:"dataTables_length",id:"dataTable_length"},s.a.createElement("label",null,"Show",s.a.createElement("select",{name:"dataTable_length","aria-controls":"dataTable",className:"custom-select custom-select-sm form-control form-control-sm",onChange:this.isChange},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"25"},"25"),s.a.createElement("option",{value:"50"},"50"),s.a.createElement("option",{value:"100"},"100"))," entries"))),s.a.createElement("div",{className:"col-sm-12 col-md-6"},s.a.createElement("div",{id:"dataTable_filter",className:"dataTables_filter"},s.a.createElement("div",{id:"form-search"},s.a.createElement("input",{type:"search",placeholder:"Search",onChange:this.isChangeSearch,name:"textSearch"}))))),s.a.createElement("table",{className:"table table-bordered",id:"dataTable",width:"100%",cellSpacing:0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"STT"),s.a.createElement("th",null,"Email",s.a.createElement("div",{className:"sorting_asc"},s.a.createElement("a",{href:"#sort"},s.a.createElement("i",{className:"fas fa-sort-alpha-up",onClick:function(){return e.sort("email","ASC")}})),s.a.createElement("a",{href:"#sort"},s.a.createElement("i",{className:"fas fa-sort-alpha-down-alt",onClick:function(){return e.sort("email","DESC")}})))),s.a.createElement("th",null,"FullName",s.a.createElement("div",{className:"sorting_asc"},s.a.createElement("a",{href:"#sort"},s.a.createElement("i",{className:"fas fa-sort-alpha-up",onClick:function(){return e.sort("firstName","ASC")}})),s.a.createElement("a",{href:"#sort"},s.a.createElement("i",{className:"fas fa-sort-alpha-down-alt",onClick:function(){return e.sort("firstName","DESC")}})))),s.a.createElement("th",null,"Gender",s.a.createElement("div",{className:"sorting_asc"},s.a.createElement("a",{href:"#sort"},s.a.createElement("i",{className:"fas fa-male",onClick:function(){return e.sort("sex","male")}})),s.a.createElement("a",{href:"#sort"},s.a.createElement("i",{className:"fas fa-female",onClick:function(){return e.sort("sex","female")}})))),s.a.createElement("th",null,"Age",s.a.createElement("div",{className:"sorting_asc"},s.a.createElement("a",{href:"#sort"},s.a.createElement("i",{className:"fas fa-sort-alpha-up",onClick:function(){return e.sort("age","ASC")}})),s.a.createElement("a",{href:"#sort"},s.a.createElement("i",{className:"fas fa-sort-alpha-down-alt",onClick:function(){return e.sort("age","DESC")}})))),s.a.createElement("th",null,"Verified",s.a.createElement("div",{className:"dropdown"},s.a.createElement("button",{className:"btn btn-outline-primary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Sort"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},s.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.sort("isVerified","no")}},"No"),s.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.sort("isVerified","yes")}},"Yes")))),s.a.createElement("th",null,"Permissions",s.a.createElement("div",{className:"dropdown"},s.a.createElement("button",{className:"btn btn-outline-primary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Sort"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},s.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.sort("permissions","admin")}},"Admin"),s.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.sort("permissions","moderator")}},"Moderator"),s.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.sort("permissions","normal-user")}},"Normal User")))),s.a.createElement("th",null,"Action"))),s.a.createElement("tbody",null,this.state.postData.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,e.state.stateShow?a+1:e.state.totalItemsCount-e.state.postData.length+a+1),s.a.createElement("td",null,t.email),s.a.createElement("td",null,t.lastName," ",t.firstName),s.a.createElement("td",null,t.sex?"Male":"Female"),s.a.createElement("td",null,parseInt((new Date).getFullYear())-parseInt(new Date(t.birthday).getFullYear())),s.a.createElement("td",{id:"verified",className:"center"},s.a.createElement("span",{style:t.isVerified?{backgroundColor:"#dc3545"}:{backgroundColor:"#6c757d"},onClick:function(){return e.accountLock(t._id,t.permissions,t.isVerified)}},t.isVerified?"Yes":"No")),s.a.createElement("td",{id:"permissions",className:"center"},s.a.createElement("span",{onClick:function(){return e.isChangePermissions(t._id,t.permissions)},style:2===t.permissions?{backgroundColor:"#ffc107"}:3===t.permissions?{backgroundColor:"#28a745"}:{backgroundColor:"#dc3545"}},2===t.permissions?"Moderator":3===t.permissions?"Normal User":"Admin")),s.a.createElement("td",{className:"center"},s.a.createElement("a",{href:"#remove-user"},s.a.createElement("i",{className:"fas fa-trash-alt",onClick:function(){return e.onClickRemoveUser(t._id,t.permissions)}}))))})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12 col-md-5"},"Showing ",this.state.offset+1," to ",this.state.totalItemsCount," of ",this.state.data.length," entries"),s.a.createElement("div",{className:"col-sm-12 col-md-7"},s.a.createElement(lt.a,{previousLabel:"prev",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:1,onPageChange:this.handlePageClick,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})))))))))}}]),a}(r.Component),it=Object(v.d)()(ct),ot=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:case"end":return e.stop()}}),e)})))()}},{key:"render",value:function(){return s.a.createElement("div",{id:"page-top"},s.a.createElement("div",{id:"wrapper"},s.a.createElement(ke,null),s.a.createElement(it,null)))}}]),a}(r.Component),mt=JSON.parse(localStorage.getItem("users-admin")),ut=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).isChangeSearch=function(e){var t=[];if(dt(n.state.data).forEach((function(a){var r=a.lastName+" "+a.firstName;-1!==n.toSlug(r).toLowerCase().trim().indexOf(e.target.value.toLowerCase().trim())&&0!==e.target.value.length&&t.push(a)})),0===t.length){var a=n.state.data.slice(n.state.offset,n.state.offset+n.state.perPage);n.setState({postsData:a})}else n.setState({postsData:t})},n.isChange=function(e){var t=n.state.data.slice(n.state.offset,n.state.offset+parseInt(e.target.value));n.setState({postsData:t,stateShow:!0,totalItemsCount:n.state.offset+t.length})},n.toSlug=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/(\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5)/g,"a")).replace(/(\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5)/g,"e")).replace(/(\xec|\xed|\u1ecb|\u1ec9|\u0129)/g,"i")).replace(/(\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1)/g,"o")).replace(/(\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef)/g,"u")).replace(/(\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9)/g,"y")).replace(/(\u0111)/g,"d")).replace(/([^0-9a-z-\s])/g,"")},n.receivedData=Object(g.a)(h.a.mark((function e(){var t,a,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=JSON.parse(localStorage.getItem("jwt")))){e.next=9;break}return e.next=5,N.a.get("/api/admin/showPosts",{headers:{Authorization:"Bearer ".concat(t)}});case 5:a=e.sent,r=a.data,s=r.posts.slice(n.state.offset,n.state.offset+n.state.perPage),n.setState({data:r.posts,pageCount:Math.ceil(r.posts.length/n.state.perPage),postsData:s,totalItemsCount:n.state.offset+s.length});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])}))),n.handlePageClick=function(e){var t=e.selected,a=t*n.state.perPage;n.setState({currentPage:t,offset:a,stateShow:!1},(function(){n.receivedData()}))},n.onClickRemovePost=function(e,t){var a=JSON.parse(localStorage.getItem("user")),r=mt.find((function(e){return e._id===t}));if(1===a.permissions&&1===r.permissions)console.log("Kh\xf4ng \u0111\u01b0\u1ee3c xo\xe1.");else if(2===a.permissions&&(1===r.permissions||2===r.permissions&&r._id.toString()!==a._id.toString()))console.log("Kh\xf4ng \u0111\u01b0\u1ee3c xo\xe1.");else{var s=n.state.postsData.filter((function(t){return t.postId!==e}));n.setState({postsData:s})}Object(g.a)(h.a.mark((function a(){var r,s,l;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Re(e,t);case 3:r=a.sent,s=r.data,n.props.alert.success(s.message),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),l=a.t0.response&&a.t0.response.data&&a.t0.response.data.message||a.t0.message||a.t0.toString(),n.props.alert.error(l);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},n.sort=function(e,t){var a=n.state.data.slice(n.state.offset,n.state.offset+n.state.perPage);if("DESC"===t&&"firstName"===e){var r=dt(a).sort((function(e,t){return e.firstName.toLowerCase()!==t.firstName.toLowerCase()?e.firstName.toLowerCase()>t.firstName.toLowerCase()?-1:1:0}));n.setState({postsData:r})}else if("ASC"===t&&"firstName"===e){var s=dt(a).sort((function(e,t){return e.firstName.toLowerCase()!==t.firstName.toLowerCase()?e.firstName.toLowerCase()<t.firstName.toLowerCase()?-1:1:0}));n.setState({postsData:s})}else"DESC"===t&&"like"===e?(a.sort((function(e,t){return t.like-e.like})),n.setState({postsData:a})):"ASC"===t&&"like"===e?(a.sort((function(e,t){return e.like-t.like})),n.setState({postsData:a})):"DESC"===t&&"dislike"===e?(a.sort((function(e,t){return t.dislike-e.dislike})),n.setState({postsData:a})):"ASC"===t&&"dislike"===e?(a.sort((function(e,t){return e.dislike-t.dislike})),n.setState({postsData:a})):"DESC"===t&&"createdAt"===e?(a.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),n.setState({postsData:a})):"ASC"===t&&"createdAt"===e&&(a.sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)})),n.setState({postsData:a}))},n.displayFullName=function(e){var t={};return mt.forEach((function(a){if(a._id===e)return t.lastName=a.lastName,t.firstName=a.firstName,t})),t},n.state={offset:0,data:[],perPage:5,currentPage:0,totalItemsCount:0,postsData:[],textSearch:"",dataTable_length:5,stateShow:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.receivedData()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},s.a.createElement("div",{id:"content"},s.a.createElement(xe,null),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("h1",{className:"h3 mb-2 text-gray-800"},"Users Table"),s.a.createElement("p",{className:"mb-4"},"DataTables Users is the place to display user information with functions of deletion, authorization, and account lock."),s.a.createElement("div",{className:"card shadow mb-4"},s.a.createElement("div",{className:"card-header py-3"},s.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"DataTables Users")),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"table-responsive"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12 col-md-6"},s.a.createElement("div",{className:"dataTables_length",id:"dataTable_length"},s.a.createElement("label",null,"Show",s.a.createElement("select",{name:"dataTable_length","aria-controls":"dataTable",className:"custom-select custom-select-sm form-control form-control-sm",onChange:this.isChange},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"25"},"25"),s.a.createElement("option",{value:"50"},"50"),s.a.createElement("option",{value:"100"},"100"))," entries"))),s.a.createElement("div",{className:"col-sm-12 col-md-6"},s.a.createElement("div",{id:"dataTable_filter",className:"dataTables_filter"},s.a.createElement("div",{id:"form-search"},s.a.createElement("input",{type:"search",placeholder:"Search",onChange:this.isChangeSearch,name:"textSearch"}))))),s.a.createElement("table",{className:"table table-bordered",id:"dataTable",width:"100%",cellSpacing:0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"STT"),s.a.createElement("th",null,"Article owner",s.a.createElement("div",{className:"sorting_asc"},s.a.createElement("a",{href:"#sort"},s.a.createElement("i",{className:"fas fa-sort-alpha-up",onClick:function(){return e.sort("firstName","ASC")}})),s.a.createElement("a",{href:"#sort"},s.a.createElement("i",{className:"fas fa-sort-alpha-down-alt",onClick:function(){return e.sort("firstName","DESC")}})))),s.a.createElement("th",null,"Quotes of article"),s.a.createElement("th",null,"Photo of article"),s.a.createElement("th",null,"Like",s.a.createElement("div",{className:"sorting_asc"},s.a.createElement("a",{href:"#sort"},s.a.createElement("i",{className:"fas fa-sort-alpha-up",onClick:function(){return e.sort("like","ASC")}})),s.a.createElement("a",{href:"#sort"},s.a.createElement("i",{className:"fas fa-sort-alpha-down-alt",onClick:function(){return e.sort("like","DESC")}})))),s.a.createElement("th",null,"Dislike",s.a.createElement("div",{className:"sorting_asc"},s.a.createElement("a",{href:"#sort"},s.a.createElement("i",{className:"fas fa-sort-alpha-up",onClick:function(){return e.sort("dislike","ASC")}})),s.a.createElement("a",{href:"#sort"},s.a.createElement("i",{className:"fas fa-sort-alpha-down-alt",onClick:function(){return e.sort("dislike","DESC")}})))),s.a.createElement("th",null,"Date created",s.a.createElement("div",{className:"sorting_asc"},s.a.createElement("a",{href:"#sort"},s.a.createElement("i",{className:"fas fa-sort-alpha-up",onClick:function(){return e.sort("createdAt","ASC")}})),s.a.createElement("a",{href:"#sort"},s.a.createElement("i",{className:"fas fa-sort-alpha-down-alt",onClick:function(){return e.sort("createdAt","DESC")}})))),s.a.createElement("th",null,"Action"))),s.a.createElement("tbody",null,this.state.postsData.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,e.state.stateShow?a+1:e.state.totalItemsCount-e.state.postsData.length+a+1),s.a.createElement("td",null,e.displayFullName(t.userId).lastName," ",e.displayFullName(t.userId).firstName),s.a.createElement("td",{id:"quotes-post"},t.quotes),s.a.createElement("td",{id:"img-post"},t.postImg?s.a.createElement("img",{src:t.postImg,alt:" "}):""),s.a.createElement("td",null,t.like),s.a.createElement("td",null,t.dislike),s.a.createElement("td",null,new Date(t.createdAt).getHours(),":",new Date(t.createdAt).getMinutes(),":",new Date(t.createdAt).getSeconds(),", ",new Date(t.createdAt).getDate(),"/",new Date(t.createdAt).getMonth()+1,"/",new Date(t.createdAt).getFullYear()),s.a.createElement("td",{className:"center"},s.a.createElement("a",{href:"#remove-post"},s.a.createElement("i",{className:"fas fa-trash-alt",onClick:function(){return e.onClickRemovePost(t.postId,t.userId)}}))))})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12 col-md-5"},"Showing ",this.state.offset+1," to ",this.state.totalItemsCount," of ",this.state.data.length," entries"),s.a.createElement("div",{className:"col-sm-12 col-md-7"},s.a.createElement(lt.a,{previousLabel:"prev",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:1,onPageChange:this.handlePageClick,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})))))))))}}]),a}(r.Component),dt=function(e){var t=[];return e.forEach((function(e){var a=mt.find((function(t){return t._id===e.userId}));e=Object(Z.a)(Object(Z.a)({},e),{},{firstName:a.firstName,lastName:a.lastName}),t.push(e)})),t},pt=Object(v.d)()(ut),ft=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:case"end":return e.stop()}}),e)})))()}},{key:"render",value:function(){return s.a.createElement("div",{id:"page-top"},s.a.createElement("div",{id:"wrapper"},s.a.createElement(ke,null),s.a.createElement(pt,null)))}}]),a}(r.Component),ht=a(12),gt=a(4),Et=a.n(gt),vt=["title","subtitle","className"],bt=function(e){var t=e.title,a=e.subtitle,n=e.className,r=Object(T.a)(e,vt),l=Et()(n,"text-center","text-md-left","mb-sm-0");return s.a.createElement(ht.g,Object.assign({xs:"12",sm:"4",className:l},r),s.a.createElement("span",{className:"text-uppercase page-subtitle"},a),s.a.createElement("h3",{className:"page-title"},t))},Nt=a(89),yt=a.n(Nt),wt=a(53),Ct=a.n(wt);Ct.a.defaults.LineWithLine=Ct.a.defaults.line,Ct.a.controllers.LineWithLine=Ct.a.controllers.line.extend({draw:function(e){if(Ct.a.controllers.line.prototype.draw.call(this,e),this.chart.tooltip._active&&this.chart.tooltip._active.length){var t=this.chart.tooltip._active[0],a=this.chart.ctx,n=t.tooltipPosition().x,r=this.chart.scales["y-axis-0"].top,s=this.chart.scales["y-axis-0"].bottom;a.save(),a.beginPath(),a.moveTo(n,r),a.lineTo(n,s),a.lineWidth=.5,a.strokeStyle="#ddd",a.stroke(),a.restore()}}});var It=Ct.a,kt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).canvasRef=s.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Z.a)(Object(Z.a)({},{maintainAspectRatio:!0,responsive:!0,legend:{display:!1},tooltips:{enabled:!1,custom:!1},elements:{point:{radius:0},line:{tension:.33}},scales:{xAxes:[{gridLines:!1,ticks:{display:!1}}],yAxes:[{gridLines:!1,scaleLabel:!1,ticks:{display:!1,isplay:!1,suggestedMax:Math.max.apply(Math,Object(O.a)(this.props.chartData[0].data))+1}}]}}),this.props.chartOptions),t=Object(Z.a)(Object(Z.a)({},{type:"line",data:Object(Z.a)(Object(Z.a)({},{labels:this.props.chartLabels}),{datasets:this.props.chartData}),options:e}),this.props.chartConfig);new It(this.canvasRef.current,t)}},{key:"render",value:function(){var e=this.props,t=e.variation,a=e.label,n=e.value,r=e.percentage,l=e.increase,c=Et()("stats-small",t&&"stats-small--".concat(t)),i=Et()("1"===t?"p-0 d-flex":"px-0 pb-0"),o=Et()("d-flex","1"===t?"flex-column m-auto":"px-3"),m=Et()("stats-small__data","1"===t&&"text-center"),u=Et()("stats-small__label","text-uppercase","1"!==t&&"mb-1"),d=Et()("stats-small__value","count","1"===t?"my-3":"m-0"),p=Et()("stats-small__data","1"!==t&&"text-right align-items-center"),f=Et()("stats-small__percentage","stats-small__percentage--".concat(l?"increase":"decrease")),h="1"===t?120:60;return s.a.createElement(ht.c,{small:!0,className:c},s.a.createElement(ht.d,{className:i},s.a.createElement("div",{className:o},s.a.createElement("div",{className:m},s.a.createElement("span",{className:u},a),s.a.createElement("h6",{className:d},n)),s.a.createElement("div",{className:p},s.a.createElement("span",{className:f},r))),s.a.createElement("canvas",{height:h,ref:this.canvasRef,className:"stats-small-".concat(yt()())})))}}]),a}(s.a.Component);kt.defaultProps={increase:!0,percentage:0,value:0,label:"Label",chartOptions:Object.create(null),chartConfig:Object.create(null),chartData:[],chartLabels:[]};var St=kt,xt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={startDate:void 0,endDate:void 0},n.handleStartDateChange=n.handleStartDateChange.bind(Object($.a)(n)),n.handleEndDateChange=n.handleEndDateChange.bind(Object($.a)(n)),n}return Object(o.a)(a,[{key:"handleStartDateChange",value:function(e){this.setState(Object(Z.a)(Object(Z.a)({},this.state),{startDate:new Date(e)}))}},{key:"handleEndDateChange",value:function(e){this.setState(Object(Z.a)(Object(Z.a)({},this.state),{endDate:new Date(e)}))}},{key:"render",value:function(){var e=this.props.className,t=Et()(e,"d-flex","my-auto","date-range");return s.a.createElement(ht.o,{className:t},s.a.createElement(ht.i,{size:"sm",selected:this.state.startDate,onChange:this.handleStartDateChange,placeholderText:"Start Date",dropdownMode:"select",className:"text-center"}),s.a.createElement(ht.i,{size:"sm",selected:this.state.endDate,onChange:this.handleEndDateChange,placeholderText:"End Date",dropdownMode:"select",className:"text-center"}),s.a.createElement(ht.p,{type:"append"},s.a.createElement(ht.q,null,s.a.createElement("i",{className:"material-icons"},"\ue916"))))}}]),a}(s.a.Component),Ot=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).canvasRef=s.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Z.a)(Object(Z.a)({},{responsive:!0,legend:{position:"top"},elements:{line:{tension:.3},point:{radius:0}},scales:{xAxes:[{gridLines:!1,ticks:{callback:function(e,t){return t%7!==0?"":e}}}],yAxes:[{ticks:{suggestedMax:45,callback:function(e){return 0===e?e:e>999?"".concat((e/1e3).toFixed(1),"K"):e}}}]},hover:{mode:"nearest",intersect:!1},tooltips:{custom:!1,mode:"nearest",intersect:!1}}),this.props.chartOptions),t=new It(this.canvasRef.current,{type:"LineWithLine",data:this.props.chartData,options:e}),a=t.getDatasetMeta(0);a.data[0]._model.radius=0,a.data[this.props.chartData.datasets[0].data.length-1]._model.radius=0,t.render()}},{key:"render",value:function(){var e=this.props.title;return s.a.createElement(ht.c,{small:!0,className:"h-100"},s.a.createElement(ht.f,{className:"border-bottom"},s.a.createElement("h6",{className:"m-0"},e)),s.a.createElement(ht.d,{className:"pt-0"},s.a.createElement(ht.t,{className:"border-bottom py-2 bg-light"},s.a.createElement(ht.g,{sm:"6",className:"d-flex mb-2 mb-sm-0"},s.a.createElement(xt,null)),s.a.createElement(ht.g,null,s.a.createElement(ht.a,{size:"sm",className:"d-flex btn-white ml-auto mr-auto ml-sm-auto mr-sm-0 mt-3 mt-sm-0"},"View Full Report \u2192"))),s.a.createElement("canvas",{height:"120",ref:this.canvasRef,style:{maxWidth:"100% !important"}})))}}]),a}(s.a.Component);Ot.defaultProps={title:"Users Overview",chartData:{labels:Array.from(new Array(30),(function(e,t){return 0===t?1:t})),datasets:[{label:"Current Month",fill:"start",data:[500,800,320,180,240,320,230,650,590,1200,750,940,1420,1200,960,1450,1820,2800,2102,1920,3920,3202,3140,2800,3200,3200,3400,2910,3100,4250],backgroundColor:"rgba(0,123,255,0.1)",borderColor:"rgba(0,123,255,1)",pointBackgroundColor:"#ffffff",pointHoverBackgroundColor:"rgb(0,123,255)",borderWidth:1.5,pointRadius:0,pointHoverRadius:3},{label:"Past Month",fill:"start",data:[380,430,120,230,410,740,472,219,391,229,400,203,301,380,291,620,700,300,630,402,320,380,289,410,300,530,630,720,780,1200],backgroundColor:"rgba(255,65,105,0.1)",borderColor:"rgba(255,65,105,1)",pointBackgroundColor:"#ffffff",pointHoverBackgroundColor:"rgba(255,65,105,1)",borderDash:[3,3],borderWidth:1,pointRadius:0,pointHoverRadius:2,pointBorderColor:"rgba(255,65,105,1)"}]}};var jt=Ot,_t=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).canvasRef=s.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e={type:"pie",data:this.props.chartData,options:Object(Z.a)(Object(Z.a)({},{legend:{position:"bottom",labels:{padding:25,boxWidth:20}},cutoutPercentage:0,tooltips:{custom:!1,mode:"index",position:"nearest"}}),this.props.chartOptions)};new It(this.canvasRef.current,e)}},{key:"render",value:function(){var e=this.props.title;return s.a.createElement(ht.c,{small:!0,className:"h-100"},s.a.createElement(ht.f,{className:"border-bottom"},s.a.createElement("h6",{className:"m-0"},e)),s.a.createElement(ht.d,{className:"d-flex py-0"},s.a.createElement("canvas",{height:"220",ref:this.canvasRef,className:"blog-users-by-device m-auto"})),s.a.createElement(ht.e,{className:"border-top"},s.a.createElement(ht.t,null,s.a.createElement(ht.g,null,s.a.createElement(ht.m,{size:"sm",value:"last-week",style:{maxWidth:"130px"},onChange:function(){}},s.a.createElement("option",{value:"last-week"},"Last Week"),s.a.createElement("option",{value:"today"},"Today"),s.a.createElement("option",{value:"last-month"},"Last Month"),s.a.createElement("option",{value:"last-year"},"Last Year"))),s.a.createElement(ht.g,{className:"text-right view-report"},s.a.createElement("a",{href:"#"},"View full report \u2192")))))}}]),a}(s.a.Component);_t.defaultProps={title:"Users by device",chartData:{datasets:[{hoverBorderColor:"#ffffff",data:[68.3,24.2,7.5],backgroundColor:["rgba(0,123,255,0.9)","rgba(0,123,255,0.5)","rgba(0,123,255,0.3)"]}],labels:["Desktop","Tablet","Mobile"]}};var Dt=_t,Tt=function(e){var t=e.title;return s.a.createElement(ht.c,{small:!0,className:"h-100"},s.a.createElement(ht.f,{className:"border-bottom"},s.a.createElement("h6",{className:"m-0"},t)),s.a.createElement(ht.d,{className:"d-flex flex-column"},s.a.createElement(ht.j,{className:"quick-post-form"},s.a.createElement(ht.k,null,s.a.createElement(ht.l,{placeholder:"Brave New World"})),s.a.createElement(ht.k,null,s.a.createElement(ht.n,{placeholder:"Words can be like X-rays if you use them properly..."})),s.a.createElement(ht.k,{className:"mb-0"},s.a.createElement(ht.a,{theme:"accent",type:"submit"},"Create Draft")))))};Tt.defaultProps={title:"New Draft"};var Rt=Tt,Mt=function(e){var t=e.title,a=e.discussions;return s.a.createElement(ht.c,{small:!0,className:"blog-comments"},s.a.createElement(ht.f,{className:"border-bottom"},s.a.createElement("h6",{className:"m-0"},t)),s.a.createElement(ht.d,{className:"p-0"},a.map((function(e,t){return s.a.createElement("div",{key:t,className:"blog-comments__item d-flex p-3"},s.a.createElement("div",{className:"blog-comments__avatar mr-3"},s.a.createElement("img",{src:e.author.image,alt:e.author.name})),s.a.createElement("div",{className:"blog-comments__content"},s.a.createElement("div",{className:"blog-comments__meta text-mutes"},s.a.createElement("a",{className:"text-secondary",href:e.author.url},e.author.name)," ","on"," ",s.a.createElement("a",{className:"text-secondary",href:e.post.url},e.post.title),s.a.createElement("span",{className:"text-mutes"},"- ",e.date)),s.a.createElement("p",{className:"m-0 my-1 mb-2 text-muted"},e.body),s.a.createElement("div",{className:"blog-comments__actions"},s.a.createElement(ht.b,{size:"sm"},s.a.createElement(ht.a,{theme:"white"},s.a.createElement("span",{className:"text-success"},s.a.createElement("i",{className:"material-icons"},"check"))," ","Approve"),s.a.createElement(ht.a,{theme:"white"},s.a.createElement("span",{className:"text-danger"},s.a.createElement("i",{className:"material-icons"},"clear"))," ","Reject"),s.a.createElement(ht.a,{theme:"white"},s.a.createElement("span",{className:"text-light"},s.a.createElement("i",{className:"material-icons"},"more_vert"))," ","Edit")))))}))),s.a.createElement(ht.e,{className:"border-top"},s.a.createElement(ht.t,null,s.a.createElement(ht.g,{className:"text-center view-report"},s.a.createElement(ht.a,{theme:"white",type:"submit"},"View All Comments")))))};Mt.defaultProps={title:"Discussions",discussions:[{id:1,date:"3 days ago",author:{name:"John Doe",url:"#"},post:{title:"Hello World!",url:"#"},body:"Well, the way they make shows is, they make one show ..."},{id:2,date:"4 days ago",author:{name:"John Doe",url:"#"},post:{title:"Hello World!",url:"#"},body:"After the avalanche, it took us a week to climb out. Now..."},{id:3,date:"5 days ago",author:{name:"John Doe",url:"#"},post:{title:"Hello World!",url:"#"},body:"My money's in that office, right? If she start giving me..."}]};var At=Mt,Lt=function(e){var t=e.title,a=e.referralData;return s.a.createElement(ht.c,{small:!0},s.a.createElement(ht.f,{className:"border-bottom"},s.a.createElement("h6",{className:"m-0"},t),s.a.createElement("div",{className:"block-handle"})),s.a.createElement(ht.d,{className:"p-0"},s.a.createElement(ht.r,{small:!0,flush:!0,className:"list-group-small"},a.map((function(e,t){return s.a.createElement(ht.s,{key:t,className:"d-flex px-3"},s.a.createElement("span",{className:"text-semibold text-fiord-blue"},e.title),s.a.createElement("span",{className:"ml-auto text-right text-semibold text-reagent-gray"},e.value))})))),s.a.createElement(ht.e,{className:"border-top"},s.a.createElement(ht.t,null,s.a.createElement(ht.g,null,s.a.createElement(ht.m,{size:"sm",value:"last-week",style:{maxWidth:"130px"},onChange:function(){}},s.a.createElement("option",{value:"last-week"},"Last Week"),s.a.createElement("option",{value:"today"},"Today"),s.a.createElement("option",{value:"last-month"},"Last Month"),s.a.createElement("option",{value:"last-year"},"Last Year"))),s.a.createElement(ht.g,{className:"text-right view-report"},s.a.createElement("a",{href:"#"},"Full report \u2192")))))};Lt.defaultProps={title:"Top Referrals",referralData:[{title:"GitHub",value:"19,291"},{title:"Stack Overflow",value:"11,201"},{title:"Hacker News",value:"9,291"},{title:"Reddit",value:"8,281"},{title:"The Next Web",value:"7,128"},{title:"Tech Crunch",value:"6,218"},{title:"YouTube",value:"1,218"},{title:"Adobe",value:"1,171"}]};var Ft=Lt,Pt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={smallStats:[]},n}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){this.setState({smallStats:e.smallStats})}},{key:"componentDidMount",value:function(){this.props.getStats()}},{key:"render",value:function(){return console.log(this.state.smallStats),s.a.createElement(ht.h,{fluid:!0,className:"main-content-container px-4"},s.a.createElement(ht.t,{noGutters:!0,className:"page-header py-4"},s.a.createElement(bt,{title:"Admin Overview Page ",subtitle:"Dashboard",className:"text-sm-left mb-3"})),s.a.createElement(ht.t,null,this.state.smallStats.map((function(e,t){return s.a.createElement(ht.g,Object.assign({className:"col-lg mb-4",key:t},e.attrs),s.a.createElement(St,{id:"small-stats-".concat(t),variation:"1",chartData:e.datasets,chartLabels:e.chartLabels,label:e.label,value:e.value,percentage:e.percentage,increase:e.increase,decrease:e.decrease}))}))),s.a.createElement(ht.t,null,s.a.createElement(ht.g,{lg:"8",md:"12",sm:"12",className:"mb-4"},s.a.createElement(jt,null)),s.a.createElement(ht.g,{lg:"4",md:"6",sm:"12",className:"mb-4"},s.a.createElement(Dt,null)),s.a.createElement(ht.g,{lg:"4",md:"6",sm:"12",className:"mb-4"},s.a.createElement(Rt,null)),s.a.createElement(ht.g,{lg:"5",md:"12",sm:"12",className:"mb-4"},s.a.createElement(At,null)),s.a.createElement(ht.g,{lg:"3",md:"12",sm:"12",className:"mb-4"},s.a.createElement(Ft,null))))}}]),a}(r.Component),qt=Object(G.b)((function(e){return{smallStats:e.adminReducer}}),(function(e){return{getStats:function(){return e(function(){var e=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/admin/getStats",{headers:q()});case 3:a=e.sent,n=a.data,t({type:"GET_STATS",payload:n.stats}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}}}))(Pt),Ut=(a(607),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{id:"page-top"},s.a.createElement("div",{id:"wrapper"},s.a.createElement(ke,null),s.a.createElement(qt,null)),s.a.createElement("a",{className:"scroll-to-top rounded",href:"#page-top"},s.a.createElement("i",{className:"fas fa-angle-up"})),s.a.createElement(Se,null))}}]),a}(r.Component)),Bt=(a(608),a(60)),Ht=a.n(Bt),Gt=a(111),Wt=a.n(Gt),Yt=JSON.parse(localStorage.getItem("user")),Jt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).requestSendMessage=function(){ue.on("request-send-message",(function(e){if(n.props.updatedAtWhenSubmit(e.conversationId,n.state.friends),e.chatGroupId){var t=document.getElementById(e.chatGroupId);switch(t.style.fontWeight="900",t.style.cssText="color: #000 !important",e.message.messageType){case"text":return e.message.senderId===Yt._id?t.innerHTML="You: "+e.message.text:t.innerHTML=e.message.sender.lastName+" "+e.message.sender.firstName+": "+e.message.text;case"image":return e.message.senderId===Yt._id?t.innerHTML="You sent an image.":t.innerHTML=e.message.sender.lastName+" "+e.message.sender.firstName+" sent an image.";case"file":return e.message.senderId===Yt._id?t.innerHTML="You sent an attachment.":t.innerHTML=e.message.sender.lastName+" "+e.message.sender.firstName+" sent an attachment."}}else{var a=document.getElementById(e.message.senderId);switch(a.style.fontWeight="900",a.style.cssText="color: #000 !important",e.message.messageType){case"text":return e.message.senderId===Yt._id?a.innerHTML="You: "+e.message.text:a.innerHTML=e.message.sender.lastName+" "+e.message.sender.firstName+": "+e.message.text;case"image":return e.message.senderId===Yt._id?a.innerHTML="You sent an image.":a.innerHTML=e.message.sender.lastName+" "+e.message.sender.firstName+" sent an image.";case"file":return e.message.senderId===Yt._id?a.innerHTML="You sent an attachment.":a.innerHTML=e.message.sender.lastName+" "+e.message.sender.firstName+" sent an attachment."}}}))},n.handleChange=function(e){var t=[];if(n.state.friends.forEach((function(a){if(a.members)-1!==n.toSlug(a.name).toLowerCase().trim().indexOf(e.target.value.toLowerCase().trim())&&0!==e.target.value.length&&t.push(a);else{var r=a.user[0].lastName+" "+a.user[0].firstName;-1===a.user[0].email.toLowerCase().trim().indexOf(e.target.value.toLowerCase().trim())&&-1===n.toSlug(r).toLowerCase().trim().indexOf(e.target.value.toLowerCase().trim())||0===e.target.value.length||t.push(a)}})),0===t.length){var a=[];n.props.friends.forEach((function(e){if(Array.isArray(e.messages)&&e.messages.length)switch(e.messages[e.messages.length-1].messageType){case"text":return e.messages[e.messages.length-1].senderId===Yt._id?a.push(Object(Z.a)(Object(Z.a)({},e),{},{firstMessage:"You: "+e.messages[e.messages.length-1].text})):a.push(Object(Z.a)(Object(Z.a)({},e),{},{firstMessage:e.messages[e.messages.length-1].sender.lastName+" "+e.messages[e.messages.length-1].sender.firstName+": "+e.messages[e.messages.length-1].text}));case"image":return e.messages[e.messages.length-1].senderId===Yt._id?a.push(Object(Z.a)(Object(Z.a)({},e),{},{firstMessage:"You sent an image."})):a.push(Object(Z.a)(Object(Z.a)({},e),{},{firstMessage:e.messages[e.messages.length-1].sender.lastName+" "+e.messages[e.messages.length-1].sender.firstName+" sent an image."}));case"file":return e.messages[e.messages.length-1].senderId===Yt._id?a.push(Object(Z.a)(Object(Z.a)({},e),{},{firstMessage:"You sent an attachment."})):a.push(Object(Z.a)(Object(Z.a)({},e),{},{firstMessage:e.messages[e.messages.length-1].sender.lastName+" "+e.messages[e.messages.length-1].sender.firstName+" sent an attachment."}))}else a.push(e)})),n.setState({friends:a})}else n.setState({friends:t})},n.toSlug=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/(\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5)/g,"a")).replace(/(\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5)/g,"e")).replace(/(\xec|\xed|\u1ecb|\u1ec9|\u0129)/g,"i")).replace(/(\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1)/g,"o")).replace(/(\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef)/g,"u")).replace(/(\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9)/g,"y")).replace(/(\u0111)/g,"d")).replace(/([^0-9a-z-\s])/g,"")},n.onClickGetFriends=function(){n.setState({friends:n.props.friends})},n.onClickGetChatGroups=function(){var e=n.props.friends.filter((function(e){return e.members}));n.setState({friends:e})},n.onGetChatGroupId=function(e){document.getElementById("input-message"+e).value="",n.props.getChatGroupId(e)},n.onGetConversationId=function(e){n.props.getConversationId(e)},n.updateScroll=function(){Ht()(".chatmsg-container").animate({scrollTop:Ht()(".chatmsg-container")[0].scrollHeight},1e3)},n.onChangeIsRead=function(e){var t=document.getElementById(e);t.style.fontWeight="normal",t.style.cssText="color: #868e96 !important"},n.state={friends:[],messageId:""},n}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){var a=[];e.friends.forEach((function(e){if(Array.isArray(e.messages)&&e.messages.length)switch(e.messages[e.messages.length-1].messageType){case"text":return e.messages[e.messages.length-1].senderId===Yt._id?a.push(Object(Z.a)(Object(Z.a)({},e),{},{firstMessage:"You: "+e.messages[e.messages.length-1].text})):a.push(Object(Z.a)(Object(Z.a)({},e),{},{firstMessage:e.messages[e.messages.length-1].sender.lastName+" "+e.messages[e.messages.length-1].sender.firstName+": "+e.messages[e.messages.length-1].text}));case"image":return e.messages[e.messages.length-1].senderId===Yt._id?a.push(Object(Z.a)(Object(Z.a)({},e),{},{firstMessage:"You sent an image."})):a.push(Object(Z.a)(Object(Z.a)({},e),{},{firstMessage:e.messages[e.messages.length-1].sender.lastName+" "+e.messages[e.messages.length-1].sender.firstName+" sent an image."}));case"file":return e.messages[e.messages.length-1].senderId===Yt._id?a.push(Object(Z.a)(Object(Z.a)({},e),{},{firstMessage:"You sent an attachment."})):a.push(Object(Z.a)(Object(Z.a)({},e),{},{firstMessage:e.messages[e.messages.length-1].sender.lastName+" "+e.messages[e.messages.length-1].sender.firstName+" sent an attachment."}))}else a.push(e)})),this.setState({friends:a,messages:e.messages})}},{key:"componentDidMount",value:function(){this.requestSendMessage(),de()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col-md-4 border-right",id:"chat-container"},s.a.createElement("div",{className:"settings-tray settings-tray--le"},s.a.createElement("img",{className:"profile-image",src:Yt.profileImage,alt:"Profile img"}),s.a.createElement("span",{className:"settings-tray--right"},s.a.createElement(d.b,{to:"/home"},s.a.createElement("i",{className:"fas fa-home"})),s.a.createElement("i",{className:"fa fa-facebook-messenger",onClick:function(){return e.onClickGetFriends()}}),s.a.createElement("i",{className:"fas fa-users",onClick:function(){return e.onClickGetChatGroups()}}))),s.a.createElement("div",{className:"search-box"},s.a.createElement("div",{className:"input-wrapper"},s.a.createElement("i",{className:"fas fa-search"}),s.a.createElement("input",{type:"text",name:"name",id:"name",className:"txt",tabIndex:"1",onChange:this.handleChange,placeholder:"Seach...",required:!0}))),s.a.createElement("div",{className:"list-users"},this.state.friends.map((function(t,a){return t.members?s.a.createElement("div",{key:a,className:"friend-drawer friend-drawer--onhover",onClick:function(){e.onGetChatGroupId(t._id),e.onGetConversationId(t._id),e.onChangeIsRead(t.chatGroupId)}},s.a.createElement(d.b,{to:"/home/message/"+t._id,className:"chat-group-left",onClick:function(){return e.updateScroll()}},s.a.createElement("img",{className:"profile-image",src:Wt.a,alt:"anh friend dad"}),s.a.createElement("div",{className:"text"},t.name.length>19?s.a.createElement("div",null,s.a.createElement("h6",{style:{color:"#dc3545",fontWeight:600,display:"inline-block"}},t.name.substr(0,16)),s.a.createElement("span",{style:{fontSize:"1rem"}},"...")):s.a.createElement("h6",{style:{color:"#dc3545",fontWeight:600}},t.name),s.a.createElement("p",{id:t.chatGroupId,className:"text-muted"},t.firstMessage)),s.a.createElement("span",{className:"time text-muted small"},ae()(t.updatedAt).fromNow()))):s.a.createElement("div",{className:"friend-drawer friend-drawer--onhover",key:a,onClick:function(){e.onGetChatGroupId(t._id),e.onGetConversationId(t._id),e.onChangeIsRead(t.user[0]._id)}},s.a.createElement(d.b,{to:"/home/message/"+t._id,className:"chat-group-left",onClick:function(){return e.updateScroll()}},s.a.createElement("img",{className:"profile-image",src:t.user[0].profileImage,alt:!0}),s.a.createElement("div",{className:"text"},(t.user[0].lastName+t.user[0].firstName).length>19?s.a.createElement("h6",null,(t.user[0].lastName+" "+t.user[0].firstName).substr(0,17),"..."):s.a.createElement("h6",null,t.user[0].lastName," ",t.user[0].firstName),s.a.createElement("p",{id:t.user[0]._id,className:"text-muted"},t.firstMessage)),s.a.createElement("span",{className:"time text-muted small"},ae()(t.updatedAt).fromNow())))}))))}}]),a}(r.Component),Vt=Object(G.b)((function(e){return{friends:e.messageReducer.friends,conversationId:e.messageReducer.conversationId,messages:e.messageReducer.messages}}),(function(e){return{getChatGroupId:function(t){return e(fe(t))},getConversationId:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"GET_CONVERSATION_ID",conversationId:e})}catch(n){}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},updatedAtWhenSubmit:function(t,a){return e(ge(t,a))},changeIsRead:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.post("/api/message/changeIsRead/"+e,{},{headers:q()});case 3:a({}),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Jt),zt=a(172),Qt=a.n(zt),Kt=(a(609),JSON.parse(localStorage.getItem("user"))),Xt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).requestSendMessage=function(){ue.on("request-send-message",(function(e){var t=n.state.friends.map((function(t){return t._id===e.conversationId?(t.messages.push(e.message),t):t}));n.setState({friends:t}),n.updateScroll()}))},n.onEmojiClick=function(e,t){var a=document.getElementById("input-message"+n.state.conversationId);console.log(a),a.value+=t.emoji},n.showEmoji=function(){n.setState({isEmoji:!n.state.isEmoji})},n.showName=function(){var e=n.state.friends.find((function(e){return e._id===n.props.conversationId}));return e&&e.members?e.name:e&&e.user[0]?e.user[0].lastName+" "+e.user[0].firstName:void 0},n.showImg=function(){var e=n.state.friends.find((function(e){return e._id===n.props.conversationId}));return e&&e.members?Wt.a:e&&e.user[0]?e.user[0].profileImage:void 0},n.handleSubmit=function(e){e.preventDefault(),document.getElementById("input-message"+n.state.conversationId).required=!0;var t=n.state.friends.find((function(e){return e._id===n.props.conversationId})),a=document.getElementById("input-message"+n.state.conversationId);if(t&&t.members){var r=n.getMessage(Kt,t,a),s=n.state.friends.map((function(e){return e._id===t._id?(e.messages.push(r),e):e}));return n.setState({friends:s,imgUrl:void 0}),n.getFirstMessageWhenSubmit(t.chatGroupId,r),n.props.getConversationIdWhenSubmit(t._id),n.props.updatedAtWhenSubmit(t._id,n.state.friends),a.value="",n.updateScroll(),ue.emit("send-message",{message:r,chatGroupId:t.chatGroupId,conversationId:t._id}),n.props.addMessage(r,t.messageAmount)}if(t&&t.user[0]){var l=n.getMessage(Kt,t,a),c=n.state.friends.map((function(e){return e._id===t._id?(e.messages.push(l),e):e}));n.setState({messages:c,imgUrl:void 0}),n.getFirstMessageWhenSubmit(t.user[0]._id,l),n.props.getConversationIdWhenSubmit(t._id),n.props.updatedAtWhenSubmit(t._id,n.state.friends),a.value="",n.updateScroll(),n.props.addMessage(l,null),ue.emit("send-message",{message:l,contactId:t.user[0]._id,conversationId:t._id})}},n.getFirstMessageWhenSubmit=function(e,t){var a=document.getElementById(e);switch(t.messageType){case"text":return t.senderId===Kt._id?a.innerHTML="You: "+t.text:a.innerHTML=t.sender.lastName+" "+t.sender.firstName+": "+t.text;case"image":return t.senderId===Kt._id?a.innerHTML="You sent an image.":a.innerHTML=t.sender.lastName+" "+t.sender.firstName+" sent an image.";case"file":return t.senderId===Kt._id?a.innerHTML="You sent an attachment.":a.innerHTML=t.sender.lastName+" "+t.sender.firstName+" sent an attachment."}},n.getMessage=function(e,t,a){return t&&t.members?n.state.imgUrl?{messageId:new ee.a,senderId:e._id,receiverId:t.chatGroupId,conversationType:"group",messageType:"image",sender:{senderId:e._id,firstName:e.firstName,lastName:e.lastName,profileImg:e.profileImage},receiver:{receiverId:t.chatGroupId,firstName:t.name,lastName:null,profileImg:null},fileUrl:n.state.imgUrl,createdAt:Date.now()}:{messageId:new ee.a,senderId:e._id,receiverId:t.chatGroupId,conversationType:"group",messageType:"text",sender:{senderId:e._id,firstName:e.firstName,lastName:e.lastName,profileImg:e.profileImage},receiver:{receiverId:t.chatGroupId,firstName:t.name,lastName:null,profileImg:null},text:a.value,createdAt:Date.now()}:t&&t.user[0]?n.state.imgUrl?{messageId:new ee.a,senderId:e._id,receiverId:t.user[0]._id,conversationType:"personal",messageType:"image",sender:{senderId:e._id,firstName:e.firstName,lastName:e.lastName,profileImg:e.profileImage},receiver:{receiverId:t.user[0]._id,firstName:t.user[0].firstName,lastName:t.user[0].lastName,profileImg:t.user[0].profileImage},fileUrl:n.state.imgUrl,createdAt:Date.now()}:{messageId:new ee.a,senderId:e._id,receiverId:t.user[0]._id,conversationType:"personal",messageType:"text",sender:{senderId:e._id,firstName:e.firstName,lastName:e.lastName,profileImg:e.profileImage},receiver:{receiverId:t.user[0]._id,firstName:t.user[0].firstName,lastName:t.user[0].lastName,profileImg:t.user[0].profileImage},text:a.value,createdAt:Date.now()}:void 0},n.updateScroll=function(){Ht()(".chatmsg-container").animate({scrollTop:Ht()(".chatmsg-container")[0].scrollHeight},1e3)},n.isChangeUpLoad=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t.target.files[0]),a.append("upload_preset","tuanpham"),e.next=5,he(a);case 5:r=e.sent,n.setState({imgUrl:r}),document.getElementById("input-message"+n.state.conversationId).required=!1;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={friends:[],chosenEmoji:"",isEmoji:!1,messages:[],message:"",imgUrl:void 0},n}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){this.setState({friends:e.friends,messages:e.messages,conversationId:e.conversationId})}},{key:"componentDidMount",value:function(){this.requestSendMessage()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col-md-8",id:"chat-container"},s.a.createElement("div",{className:"settings-tray settings-tray--ri"},s.a.createElement("div",{className:"friend-drawer no-gutters friend-drawer--grey"},s.a.createElement("img",{className:"profile-image",src:this.showImg(),alt:!0}),s.a.createElement("div",{className:"text"},s.a.createElement("h6",null,this.showName()),s.a.createElement("p",{className:"text-muted"},"Don\u2019t cry because it\u2019s over, smile because it happened...")),s.a.createElement("span",{className:"settings-tray--right"},s.a.createElement("i",{className:"fas fa-video"}),s.a.createElement("i",{className:"far fa-image"}),s.a.createElement("i",{className:"fas fa-paperclip"})))),this.state.friends.map((function(t,a){return t._id===e.state.conversationId?s.a.createElement("div",{className:"chat-panel ",key:a},s.a.createElement("div",{className:"chatmsg-container",id:t._id},t.messages.map((function(e){return"text"===e.messageType?s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:e.senderId===Kt._id?"col-md-3 offset-md-9":"col-md-3"},s.a.createElement("div",{className:e.senderId===Kt._id?"chat-bubble chat-bubble--right":"chat-bubble chat-bubble--left"},s.a.createElement("span",null,s.a.createElement("img",{className:e.senderId===Kt._id?"img-message-right":"img-message-left",src:e.sender.profileImg,alt:""}),e.text)))):"image"===e.messageType?s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:e.senderId===Kt._id?"col-md-3 offset-md-9":"col-md-3"},s.a.createElement("div",{className:e.senderId===Kt._id?"chat-bubble chat-bubble--right chat-bubble-img-right":"chat-bubble chat-bubble--left chat-bubble-img-left"},s.a.createElement("img",{src:e.fileUrl,alt:"#111 "})))):void 0}))),s.a.createElement("div",{id:"container-emoji"},e.state.isEmoji&&s.a.createElement(Qt.a,{onEmojiClick:e.onEmojiClick})),e.state.imgUrl&&s.a.createElement("div",{className:"img-load-container"},s.a.createElement("img",{src:e.state.imgUrl,alt:"anh load"})),s.a.createElement("div",{className:"row with-765"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"chat-box-tray"},s.a.createElement("i",{className:"far fa-smile-beam",onClick:function(){return e.showEmoji()}}),s.a.createElement("label",{htmlFor:"myInput"}," ",s.a.createElement("i",{className:"fas fa-image"})),s.a.createElement("input",{id:"myInput",type:"file",name:"file",className:"profileImg",style:{display:"none"},onChange:e.isChangeUpLoad}),s.a.createElement("i",{className:"fas fa-paperclip"}),s.a.createElement("i",{className:"fas fa-microphone"}),s.a.createElement("form",{onSubmit:e.handleSubmit},s.a.createElement("input",{type:"text",name:"message",id:"input-message"+t._id,className:"txt",onChange:e.handleChange,required:!0}),s.a.createElement("button",{type:"submit",id:"submit-message"},s.a.createElement("i",{className:"fas fa-paper-plane"}))))))):s.a.createElement("div",{style:{display:"none"},className:"chat-panel ",key:a},s.a.createElement("div",{className:"chatmsg-container",id:t._id},t.messages.map((function(e){return"text"===e.messageType?s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:e.senderId===Kt._id?"col-md-3 offset-md-9":"col-md-3"},s.a.createElement("div",{className:e.senderId===Kt._id?"chat-bubble chat-bubble--right":"chat-bubble chat-bubble--left"},s.a.createElement("span",null,s.a.createElement("img",{className:e.senderId===Kt._id?"img-message-right":"img-message-left",src:e.sender.profileImg,alt:""}),e.text)))):"image"===e.messageType?s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:e.senderId===Kt._id?"col-md-3 offset-md-9":"col-md-3"},s.a.createElement("div",{className:e.senderId===Kt._id?"chat-bubble chat-bubble--right chat-bubble-img-right":"chat-bubble chat-bubble--left chat-bubble-img-left"},s.a.createElement("img",{src:e.fileUrl,alt:"#111 "})))):void 0}))),s.a.createElement("div",{id:"container-emoji"},e.state.isEmoji&&s.a.createElement(Qt.a,{onEmojiClick:e.onEmojiClick})),e.state.imgUrl&&s.a.createElement("div",{className:"img-load-container"},s.a.createElement("img",{src:e.state.imgUrl,alt:"anh load"})),s.a.createElement("div",{className:"row with-765"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"chat-box-tray"},s.a.createElement("i",{className:"far fa-smile-beam",onClick:function(){return e.showEmoji()}}),s.a.createElement("label",{htmlFor:"myInput"}," ",s.a.createElement("i",{className:"fas fa-image"})),s.a.createElement("input",{id:"myInput",type:"file",name:"file",className:"profileImg",style:{display:"none"},onChange:e.isChangeUpLoad}),s.a.createElement("i",{className:"fas fa-paperclip"}),s.a.createElement("i",{className:"fas fa-microphone"}),s.a.createElement("form",{onSubmit:e.handleSubmit},s.a.createElement("input",{type:"text",name:"message",id:"input-message"+t._id,className:"txt",onChange:e.handleChange,required:!0}),s.a.createElement("button",{type:"submit",id:"submit-message"},s.a.createElement("i",{className:"fas fa-paper-plane"})))))))})))}}]),a}(r.Component),Zt=Object(G.b)((function(e){return{friends:e.messageReducer.friends,messages:e.messageReducer.messages,conversationId:e.messageReducer.conversationId}}),(function(e){return{addMessage:function(t,a){return e(function(e,t){return function(){var a=Object(g.a)(h.a.mark((function a(n){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.a.post("/api/message/addMessage",{message:e,messageAmount:t},{headers:q()});case 3:n({}),a.next=8;break;case 6:a.prev=6,a.t0=a.catch(0);case 8:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))},getConversationIdWhenSubmit:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"GET_CONVERSATION_ID_WHEN_SUBMIT",converId:e})}catch(n){}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},updatedAtWhenSubmit:function(t,a){return e(ge(t,a))},loadMessageSocket:function(t,a){return e(function(e,t){return function(){var a=Object(g.a)(h.a.mark((function a(n){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{n({type:"LOAD_MESSAGE_SOCKET",conversationId:e,message:t})}catch(r){}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))}}}))(Xt),$t=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){de();var e=this.props.match.params;this.props.getChatGroupId(e.conversationId),this.props.getMessagesByParamsId(e.conversationId),this.props.getContactsByStatusIsTrue()}},{key:"render",value:function(){return s.a.createElement("div",{className:"master-message"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(Vt,null),s.a.createElement(Zt,null))),s.a.createElement("div",{id:"footer"},s.a.createElement("div",{className:"foot"},s.a.createElement("div",{className:"social text-center"},s.a.createElement("a",{href:"https://www.facebook.com/phamminhtuan.317",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("i",{className:"fab fa-facebook"})),s.a.createElement("a",{href:"https://www.facebook.com/groups/nhompi2020/",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("i",{className:"fas fa-users"})),s.a.createElement("a",{href:"#1",target:"_blank"},s.a.createElement("i",{className:"fab fa-font-awesome-flag"})),s.a.createElement("a",{href:"#1"},s.a.createElement("i",{className:"fab fa-youtube"}))),s.a.createElement("p",null,"Copyright \xa9 Tuan Pham 2020 All Rights Reserved."))))}}]),a}(r.Component),ea=Object(G.b)((function(e){return{}}),(function(e){return{getChatGroupId:function(t){return e(fe(t))},getContactsByStatusIsTrue:function(){return e(pe())},getMessagesByParamsId:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.get("/api/message/getContactsByStatusIsTrue/",{headers:q()});case 3:n=t.sent,r=n.data,a({type:"GET_MESSAGES_BY_PARAMS_ID",conversationId:e,payload:r.contacts}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))($t),ta=a(173),aa=a.n(ta),na=JSON.parse(localStorage.getItem("user")),ra=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).requestAddFriend=function(){ue.on("request-add-friend",(function(e){n.state.sentFriend.unshift(e),n.state.notSentFriend=n.state.notSentFriend.filter((function(t){return t._id!==e.user[0]._id})),n.setState({sentFriend:n.state.sentFriend,notSentFriend:n.state.notSentFriend})}))},n.emitCancelRequest=function(){ue.on("emit-cancel-request",(function(e){n.state.notSentFriend.unshift({_id:e.user[0]._id,firstName:e.user[0].firstName,lastName:e.user[0].lastName,profileImage:e.user[0].profileImage}),n.state.sentFriend=n.state.sentFriend.filter((function(t){return t.user[0]._id!==e.user[0]._id})),n.setState({sentFriend:n.state.sentFriend,notSentFriend:n.state.notSentFriend})}))},n.addFriend=function(e){var t=new ee.a;ue.emit("add-friend",{contactId:e,notificationId:t,type:"ADD_FRIEND"}),n.props.addFriend(e,t);var a=document.getElementById("add-friend-society-"+e),r=document.getElementById("cancel-request-society-"+e),s=document.getElementById("add-friend-"+e),l=document.getElementById("cancel-request-"+e);a&&(a.style.display="none"),r&&(r.style.display="block"),s&&(s.style.display="none"),l&&(l.style.display="block")},n.cancelRequest=function(e){var t=new ee.a;ue.emit("cancel-request",{contactId:e,notificationId:t,type:"CANCEL_REQUEST"}),n.props.cancelRequest(e,t);var a=document.getElementById("add-friend-society-"+e),r=document.getElementById("cancel-request-society-"+e),s=document.getElementById("add-friend-"+e),l=document.getElementById("cancel-request-"+e);a&&(a.style.display="block"),r&&(r.style.display="none"),s&&(s.style.display="block"),l&&(l.style.display="none")},n.confirm=function(e){var t=new ee.a;ue.emit("confirm-friend",{contactId:e,notificationId:t,type:"CONFIRM_FRIEND"}),n.state.sentFriend=n.state.sentFriend.filter((function(t){return t.user[0]._id!==e})),n.props.confirmFriend(e,na._id,t),n.setState({sentFriend:n.state.sentFriend});var a=document.getElementById("friends").innerHTML,r=document.getElementById("bell").innerHTML;1===+a[1]||0===+a[1]?document.getElementById("friends").innerHTML="":document.getElementById("friends").innerHTML="(".concat(+a[1]-1,")"),1===+r[1]||0===+r[1]?document.getElementById("bell").innerHTML="":document.getElementById("bell").innerHTML="(".concat(+r[1]-1,")")},n.deleteContact=function(e){n.state.sentFriend=n.state.sentFriend.filter((function(t){return t.user[0]._id!==e})),n.setState({sentFriend:n.state.sentFriend}),n.props.removeContact(e)},n.state={users:[],contacts:[],sentFriend:[],notSentFriend:[]},n}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){var a=JSON.parse(localStorage.getItem("user")),n=[];e.contacts.map((function(e){if(e.contactId===a._id)return n.push(e)}));var r=[];e.contacts.map((function(e){if(e.userId!==a._id&&!e.status)return r.push(e)}));var s=sa(e.users,e.contacts);this.setState({sentFriend:n,notSentFriend:s,countFriends:r.length})}},{key:"componentDidMount",value:function(){this.props.getAllUsers(),this.props.getContacts(),this.requestAddFriend(),this.emitCancelRequest()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"people"},s.a.createElement("div",{className:"row"},this.state.sentFriend.map((function(t,a){if(!t.status)return s.a.createElement("div",{className:"connection",key:a},s.a.createElement("img",{src:t.user[0].profileImage?t.user[0].profileImage:aa.a,alt:" anh friend"}),s.a.createElement("h5",null,t.user[0].lastName," ",t.user[0].firstName),s.a.createElement("p",null,"10 ",s.a.createElement("i",{className:"fa fa-user"})," Friends"),s.a.createElement("div",{className:"confirm-delete"},s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.confirm(t.user[0]._id)}},s.a.createElement("i",{className:"fas fa-user-plus"}),"Confirm"),s.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return e.deleteContact(t.user[0]._id)}},s.a.createElement("i",{className:"fas fa-user-times"}),"Delete")))}))),this.state.countFriends?s.a.createElement("hr",null):"",s.a.createElement("div",{className:"row"},this.state.notSentFriend.map((function(t,a){return s.a.createElement("div",{className:"connection",key:a},s.a.createElement("img",{src:t.profileImage?t.profileImage:aa.a,alt:" anh friend"}),s.a.createElement("h5",null,t.lastName," ",t.firstName),s.a.createElement("p",null,"10 ",s.a.createElement("i",{className:"fa fa-user"})," Friends"),s.a.createElement("button",{id:"cancel-request-society-"+t._id,className:"btn btn-danger cancel-request",onClick:function(){return e.cancelRequest(t._id)},style:{display:"none"}},s.a.createElement("i",{className:"fas fa-user-times"}),"Cancel Request"),s.a.createElement("button",{id:"add-friend-society-"+t._id,className:"btn btn-danger",onClick:function(){return e.addFriend(t._id)}},s.a.createElement("i",{className:"fas fa-user-plus"}),"Add Friend"))}))))}}]),a}(r.Component),sa=function(e,t){for(var a=0,n=[],r=0;r<e.length;r++){a=0;for(var s=0;s<t.length&&(e[r]._id!==t[s].userId&&e[r]._id!==t[s].contactId);s++)a++;a===t.length&&n.push(e[r])}return n},la=Object(G.b)((function(e){return{users:e.userReducer,contacts:e.contactReducer.contacts}}),(function(e){return{addFriend:function(t,a){return e(V(t,a))},cancelRequest:function(t,a){return e(z(t,a))},getAllUsers:function(){return e(H())},getContacts:function(){return e(J())},confirmFriend:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(g.a)(h.a.mark((function n(r){var s;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N.a.post("/api/contact/confirmFriend",{senderId:e,receiverId:t,notificationId:a},{headers:q()});case 3:s=n.sent,console.log(s.data),r({type:"CANCEL_REQUEST"}),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},removeContact:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.delete("/api/contact/removeContact/"+e,{headers:q()});case 3:n=t.sent,console.log(n.data),a({type:"CANCEL_REQUEST"}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(ra),ca=(a(610),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(be,null),s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"wrapper"},s.a.createElement(X,null),s.a.createElement("div",{className:"mainnotfixed"},s.a.createElement(la,null)),s.a.createElement(we,null))))}}]),a}(r.Component)),ia=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement(d.a,null,s.a.createElement(p.d,null,s.a.createElement(L,{component:ca,path:"/home/society",exact:!0}),s.a.createElement(L,{component:ea,path:"/home/message/:conversationId",exact:!0}),s.a.createElement(L,{component:$e,path:"/home/profile/:userId",exact:!0}),s.a.createElement(P,{component:D,path:"/",exact:!0,restricted:!0}),s.a.createElement(P,{component:tt,path:"/recover",exact:!0,restricted:!1}),s.a.createElement(L,{component:Ie,path:"/home",exact:!0}),s.a.createElement(p.b,{component:rt,path:"/reset/:token",exact:!0}),s.a.createElement(p.b,{component:Ut,path:"/home-admin",exact:!0}),s.a.createElement(p.b,{component:ot,path:"/table-users",exact:!0}),s.a.createElement(p.b,{component:ft,path:"/table-posts",exact:!0})))}}]),a}(r.Component),oa=a(74),ma=a(284),ua={message:"",isReset:!1,successful:!1,currentUser:{}},da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_SUCCESS":return Object(Z.a)(Object(Z.a)({},e),{},{message:t.payload,successful:!0});case"LOGIN_SUCCESS":return Object(Z.a)(Object(Z.a)({},e),{},{currentUser:t.payload});case"RESET_SUCCESS":return Object(Z.a)(Object(Z.a)({},e),{},{isReset:t.payload});case"RESET_PASSWORD_SUCCESS":return Object(Z.a)(Object(Z.a)({},e),{},{message:t.payload});case"REGISTER_FAIL":case"RESET_PASSWORD_FAIL":case"LOGIN_FAIL":return localStorage.removeItem("token"),Object(Z.a)(Object(Z.a)({},e),{},{message:t.payload});default:return e}},pa=[],fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_USERS":return e=t.payload;default:return e}},ha=[],ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CURRENT_USER_POSTS":return e=t.payload;default:return e}},Ea={},va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CURRENT_USER":return e=t.payload;default:return e}},ba={},Na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_BY_ID":return e=t.payload;default:return e}},ya={contacts:[],countFriends:0,isContact:void 0,isAddFriend:void 0,friends:[],chatGroupId:""},wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CONTACTS":return Object(Z.a)(Object(Z.a)({},e),{},{contacts:t.payload});case"COUNT_FRIENDS":return Object(Z.a)(Object(Z.a)({},e),{},{countFriends:t.payload});case"IS_CONTACT":return Object(Z.a)(Object(Z.a)({},e),{},{isContact:t.payload});case"IS_ADD_FRIEND":return Object(Z.a)(Object(Z.a)({},e),{},{isAddFriend:t.payload});default:return e}},Ca=[],Ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STATS":return e=t.payload;default:return e}},ka={friends:[],conversationId:"",messages:[],converId:""},Sa=function(e){return e.sort((function(e,t){return new Date(t.updatedAt)-new Date(e.updatedAt)}))},xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONTACTS_BY_STATUS_IS_TRUE":return Object(Z.a)(Object(Z.a)({},e),{},{friends:t.payload});case"GET_CHAT_GROUP_ID":return Object(Z.a)(Object(Z.a)({},e),{},{conversationId:t.conversationId});case"GET_CONVERSATION_ID_WHEN_SUBMIT":return Object(Z.a)(Object(Z.a)({},e),{},{converId:t.converId});case"LOAD_MESSAGE_SOCKET":var a=e.friends.find((function(e){return e._id===t.conversationId}));return Object(Z.a)(Object(Z.a)({},e),{},{messages:a.messages});case"UPDATED_AT_WHEN_SUBMIT":var n=t.payload.friends.map((function(e){return e._id===t.payload.conversationId?(e.updatedAt=Date.now(),e):e}));return Object(Z.a)(Object(Z.a)({},e),{},{friends:Sa(n)});default:return e}},Oa=Object(oa.combineReducers)({authReducer:da,userReducer:fa,postReducer:ga,currentUserReducer:va,getUserById:Na,contactReducer:wa,adminReducer:Ia,messageReducer:xa}),ja=a(285),_a=Object(oa.createStore)(Oa,Object(ja.composeWithDevTools)(Object(oa.applyMiddleware)(ma.a))),Da=a(286),Ta={position:v.b.TOP_CENTER,timeout:5e3,offset:"30px",transition:v.c.SCALE};c.a.render(s.a.createElement(G.a,{store:_a},s.a.createElement(v.a,Object.assign({template:Da.a},Ta),s.a.createElement(ia,null))),document.getElementById("root"))}},[[287,1,2]]]);
//# sourceMappingURL=main.aab092b6.chunk.js.map